
> hotel-saas@1.0.0 dev
> NODE_OPTIONS='--max-old-space-size=8192 --max-semi-space-size=512' nuxt dev

[nuxi] Nuxt 3.18.1 with Nitro 2.12.4

 
              â–ˆâ–€â–€â–€â–€â–€â–€â–€â–ˆâ–€â–ˆâ–ˆâ–€â–€â–€â–ˆâ–ˆâ–€â–ˆâ–€â–€â–€â–€â–€â–€â–€â–ˆ
              â–ˆ â–ˆâ–€â–€â–€â–ˆ â–ˆâ–„â–„ â–€ â–€ â–€â–„â–ˆ â–ˆâ–€â–€â–€â–ˆ â–ˆ
              â–ˆ â–ˆ   â–ˆ â–ˆâ–€â–€ â–€â–ˆâ–„â–€â–ˆ â–ˆ â–ˆ   â–ˆ â–ˆ
              â–ˆ â–€â–€â–€â–€â–€ â–ˆ â–ˆâ–€â–„â–€â–„ â–ˆ â–ˆ â–€â–€â–€â–€â–€ â–ˆ
              â–ˆâ–€â–€â–€â–ˆâ–ˆâ–€â–€â–ˆ â–€ â–„ â–ˆâ–€â–€â–ˆâ–€â–€â–€â–€â–ˆâ–ˆâ–€â–€â–ˆ
              â–ˆ â–ˆâ–ˆ  â–„â–€â–ˆâ–ˆâ–„â–„â–€â–ˆâ–ˆ  â–€  â–€â–€ â–€â–„ â–ˆ
              â–ˆâ–€â–„â–ˆâ–€â–€ â–€â–€â–„ â–ˆâ–„ â–ˆ â–„ â–€â–€â–ˆâ–ˆâ–„â–ˆâ–ˆâ–€â–ˆ
              â–ˆâ–€ â–„â–„â–„ â–€â–„ â–€â–ˆ â–€â–ˆ  â–ˆâ–ˆâ–„â–ˆâ–€â–€â–€â–„ â–ˆ
              â–ˆâ–€â–€â–€â–€â–„â–„â–€â–ˆ â–„â–„â–€â–ˆâ–ˆâ–€â–ˆâ–€â–€ â–€â–€â–ˆâ–ˆâ–€â–ˆâ–ˆ
              â–ˆâ–€â–€â–€â–€â–€â–€â–€â–ˆâ–„â–ˆâ–„ â–€â–„ â–„ â–ˆâ–€â–ˆ â–€â–„â–ˆ â–ˆ
              â–ˆ â–ˆâ–€â–€â–€â–ˆ â–ˆâ–„â–€ â–€â–ˆâ–ˆâ–€â–€ â–€â–€â–€ â–€â–ˆ â–„â–ˆ
              â–ˆ â–ˆ   â–ˆ â–ˆâ–€â–„â–€ â–ˆâ–ˆ  â–€â–ˆâ–ˆ  â–„â–„ â–€â–ˆ
              â–ˆ â–€â–€â–€â–€â–€ â–ˆ â–„â–ˆâ–€â–ˆâ–ˆ   â–ˆâ–€â–„â–„â–€â–ˆâ–ˆâ–€â–ˆ
              â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€
 
  âœ Local:    http://0.0.0.0:3100/
  âœ Network:  http://100.119.154.32:3100/ [QR code]

[nuxt:tailwindcss] â„¹ Using Tailwind CSS from ~/assets/css/tailwind.css
[nuxt:tailwindcss] â„¹ Tailwind Viewer: http://0.0.0.0:3100/_tailwind/
â„¹ Forced re-optimization of dependencies
âœ” Vite client built in 50ms
âœ” Vite server built in 2328ms

 WARN  Duplicated imports "prisma", the one from "/Users/kaneko/hotel-saas/server/utils/db-service.ts" has been ignored and "/Users/kaneko/hotel-saas/server/utils/prisma.ts" is used


 WARN  Duplicated imports "getSession", the one from "h3" has been ignored and "/Users/kaneko/hotel-saas/server/utils/session-auth.ts" is used


 WARN  Duplicated imports "prisma", the one from "/Users/kaneko/hotel-saas/server/utils/db-service.ts" has been ignored and "/Users/kaneko/hotel-saas/server/utils/prisma.ts" is used


 WARN  Duplicated imports "getSession", the one from "h3" has been ignored and "/Users/kaneko/hotel-saas/server/utils/session-auth.ts" is used


 WARN  "@prisma/client" is imported by "server/api/v1/receipts/[receiptId].get.ts", but could not be resolved â€“ treating it as an external dependency.


 WARN  Generated an empty chunk: "room-by-ip.get".

[nitro] âœ” Nuxt Nitro server built in 3793ms
â„¹ Vite client warmed up in 3ms
ğŸ”§ çµ±ä¸€ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚µãƒ¼ãƒ“ã‚¹åˆæœŸåŒ–: hotel-saas
ğŸ¢ ã‚·ã‚¹ãƒ†ãƒ å: hotel-saas
ğŸ¯ ãƒ†ãƒŠãƒ³ãƒˆID: test-tenant-001
ğŸ”“ ãƒ‘ãƒ–ãƒªãƒƒã‚¯ãƒ‘ã‚¹: /admin/login
ğŸ”“ ãƒ‘ãƒ–ãƒªãƒƒã‚¯ãƒ‘ã‚¹: /admin/login
â„¹ Vite server warmed up in 4182ms
ğŸ”’ èªè¨¼ãŒå¿…è¦ãªãƒ‘ã‚¹: /api/v1/auth/me
WARN  [h3] Please prefer using message for longer error messages instead of statusMessage. In the future, statusMessage will be sanitized by default.
ğŸ”“ ãƒ‘ãƒ–ãƒªãƒƒã‚¯ãƒ‘ã‚¹: /api/v1/auth/login
ğŸ” ãƒ­ã‚°ã‚¤ãƒ³è©¦è¡Œ: admin@omotenasuai.com
âœ… hotel-commonèªè¨¼æˆåŠŸ: { success: true,
  data:
   { success: true,
     sessionId: 'd4301c49d19d9969dae7a06a9c696d2003aae888a9722c217ce27732f5c7d179',
     user:
      { user_id: '00b6152e-d2b1-4783-a0d3-e09d06433778',
        tenant_id: 'default',
        email: 'admin@omotenasuai.com',
        role: 'admin',
        level: 3,
        permissions: [] } },
  meta: {},
  timestamp: '2025-10-02T05:58:04.926Z',
  request_id: 'req-1759384684926-kbfc6a8dc8' }
âœ… ãƒ­ã‚°ã‚¤ãƒ³æˆåŠŸ: admin@omotenasuai.com ã‚»ãƒƒã‚·ãƒ§ãƒ³ID: d4301c49
ğŸ”’ èªè¨¼ãŒå¿…è¦ãªãƒ‘ã‚¹: /api/v1/auth/me
Redisæ¥ç¶šæˆåŠŸ: redis://localhost:6379
âœ… ã‚»ãƒƒã‚·ãƒ§ãƒ³èªè¨¼æˆåŠŸ: admin@omotenasuai.com (admin) - ãƒ‘ã‚¹: /api/v1/auth/me
ğŸ”’ èªè¨¼ãŒå¿…è¦ãªãƒ‘ã‚¹: /api/v1/admin/tenant/current
âœ… ã‚»ãƒƒã‚·ãƒ§ãƒ³èªè¨¼æˆåŠŸ: admin@omotenasuai.com (admin) - ãƒ‘ã‚¹: /api/v1/admin/tenant/current
ğŸ” ãƒ†ãƒŠãƒ³ãƒˆæƒ…å ±å–å¾—: default
âœ… ãƒ†ãƒŠãƒ³ãƒˆæƒ…å ±å–å¾—æˆåŠŸ: undefined
ERROR  Failed to send log to hotel-common /api/v1/logs/auth: [POST] "http://localhost:3400/api/v1/logs/auth": 400 Bad Request

    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async $fetch2 (node_modules/ofetch/dist/shared/ofetch.03887fc3.mjs:316:15)
    at async Object.sendToHotelCommon (.nuxt/dev/chunks/_/log-client.mjs:1:2462)
    at async Promise.allSettled (index 0)
    at async Object.processBatch (.nuxt/dev/chunks/_/log-client.mjs:1:2401)
    at async Object.startQueueProcessor (.nuxt/dev/chunks/_/log-client.mjs:1:2155)
ERROR  FAILED_LOG_TO_HOTEL_COMMON: {"endpoint":"/api/v1/logs/auth","data":{"tenantId":"default","userId":"00b6152e-d2b1-4783-a0d3-e09d06433778","action":"LOGIN","success":true,"ipAddress":"127.0.0.1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36","deviceInfo":{"email":"admin@omotenasuai.com","role":"admin","timestamp":"2025-10-02T05:58:04.935Z"}},"error":"[POST] \"http://localhost:3400/api/v1/logs/auth\": 400 Bad Request","timestamp":"2025-10-02T05:58:05.799Z"}
ğŸ”’ èªè¨¼ãŒå¿…è¦ãªãƒ‘ã‚¹: /api/v1/auth/me
âœ… ã‚»ãƒƒã‚·ãƒ§ãƒ³èªè¨¼æˆåŠŸ: admin@omotenasuai.com (admin) - ãƒ‘ã‚¹: /api/v1/auth/me
ğŸ”’ èªè¨¼ãŒå¿…è¦ãªãƒ‘ã‚¹: /api/v1/admin/summary?from=2025-10-02&to=2025-10-02
ğŸ”’ èªè¨¼ãŒå¿…è¦ãªãƒ‘ã‚¹: /api/v1/admin/devices/count
ğŸ”’ èªè¨¼ãŒå¿…è¦ãªãƒ‘ã‚¹: /api/v1/admin/orders?status=pending
âœ… ã‚»ãƒƒã‚·ãƒ§ãƒ³èªè¨¼æˆåŠŸ: admin@omotenasuai.com (admin) - ãƒ‘ã‚¹: /api/v1/admin/summary?from=2025-10-02&to=2025-10-02
ğŸ”’ èªè¨¼ãŒå¿…è¦ãªãƒ‘ã‚¹: /api/v1/admin/orders/monthly-count
âœ… ã‚»ãƒƒã‚·ãƒ§ãƒ³èªè¨¼æˆåŠŸ: admin@omotenasuai.com (admin) - ãƒ‘ã‚¹: /api/v1/admin/devices/count
âœ… ã‚»ãƒƒã‚·ãƒ§ãƒ³èªè¨¼æˆåŠŸ: admin@omotenasuai.com (admin) - ãƒ‘ã‚¹: /api/v1/admin/orders?status=pending
âœ… ã‚»ãƒƒã‚·ãƒ§ãƒ³èªè¨¼æˆåŠŸ: admin@omotenasuai.com (admin) - ãƒ‘ã‚¹: /api/v1/admin/orders/monthly-count
ğŸ” ã‚µãƒãƒªãƒ¼æƒ…å ±å–å¾—: default
ğŸ” é€ä¿¡ãƒ˜ãƒƒãƒ€ãƒ¼: { hasCookie: true,
  cookiePreview: 'authjs.csrf-token=84e11eeb5ad1747a0ae55ec9a7109065' }
ğŸ” ãƒ‡ãƒã‚¤ã‚¹æ•°å–å¾—: default
ERROR  âŒ ã‚µãƒãƒªãƒ¼æƒ…å ±å–å¾—ã‚¨ãƒ©ãƒ¼: [GET] "http://localhost:3400/api/v1/admin/summary?from=2025-10-02&to=2025-10-02": 401 Unauthorized

    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async $fetch2 (node_modules/ofetch/dist/shared/ofetch.03887fc3.mjs:316:15)
    at async Object.handler (.nuxt/dev/chunks/routes/api/v1/admin/summary.get.mjs:1:660)
    at async node_modules/h3/dist/index.mjs:2004:19
    at async Object.callAsync (node_modules/unctx/dist/index.mjs:72:16)
    at async Server.toNodeHandle (node_modules/h3/dist/index.mjs:2296:7)
ğŸ” æœˆæ¬¡æ³¨æ–‡æ•°å–å¾—APIé–‹å§‹
ERROR  âŒ æœˆæ¬¡æ³¨æ–‡æ•°å–å¾—ã‚¨ãƒ©ãƒ¼: [GET] "http://localhost:3400/api/v1/admin/orders/monthly-count?year=2025&month=10": 401 Unauthorized

    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async $fetch2 (node_modules/ofetch/dist/shared/ofetch.03887fc3.mjs:316:15)
    at async Object.handler (.nuxt/dev/chunks/routes/api/v1/admin/orders/monthly-count.get.mjs:1:779)
    at async node_modules/h3/dist/index.mjs:2004:19
    at async Object.callAsync (node_modules/unctx/dist/index.mjs:72:16)
    at async Server.toNodeHandle (node_modules/h3/dist/index.mjs:2296:7)
ğŸ” å¯¾è±¡å¹´æœˆ: 2025å¹´10æœˆ
ğŸ” é€ä¿¡ãƒ˜ãƒƒãƒ€ãƒ¼: { hasCookie: true,
  cookiePreview: 'authjs.csrf-token=84e11eeb5ad1747a0ae55ec9a7109065' }
âœ… ãƒ‡ãƒã‚¤ã‚¹æ•°å–å¾—æˆåŠŸ
ğŸ”“ ãƒ‘ãƒ–ãƒªãƒƒã‚¯ãƒ‘ã‚¹: /api/v1/auth/logout
ğŸ”“ ãƒ‘ãƒ–ãƒªãƒƒã‚¯ãƒ‘ã‚¹: /api/v1/auth/logout
â„¹ âœ¨ new dependencies optimized: date-fns, date-fns/locale, @vueuse/integrations/useSortable
â„¹ âœ¨ optimized dependencies changed. reloading
ğŸ”“ ãƒ‘ãƒ–ãƒªãƒƒã‚¯ãƒ‘ã‚¹: /admin/login
ğŸ”’ èªè¨¼ãŒå¿…è¦ãªãƒ‘ã‚¹: /api/v1/auth/me
WARN  [h3] Please prefer using message for longer error messages instead of statusMessage. In the future, statusMessage will be sanitized by default.

 WARN  Duplicated imports "prisma", the one from "/Users/kaneko/hotel-saas/server/utils/db-service.ts" has been ignored and "/Users/kaneko/hotel-saas/server/utils/prisma.ts" is used


 WARN  Duplicated imports "getSession", the one from "h3" has been ignored and "/Users/kaneko/hotel-saas/server/utils/session-auth.ts" is used


 WARN  Generated an empty chunk: "room-by-ip.get".

[nitro] âœ” Nuxt Nitro server built in 2404ms
ğŸ”§ çµ±ä¸€ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚µãƒ¼ãƒ“ã‚¹åˆæœŸåŒ–: hotel-saas
ğŸ¢ ã‚·ã‚¹ãƒ†ãƒ å: hotel-saas
ğŸ¯ ãƒ†ãƒŠãƒ³ãƒˆID: test-tenant-001

 WARN  Duplicated imports "prisma", the one from "/Users/kaneko/hotel-saas/server/utils/db-service.ts" has been ignored and "/Users/kaneko/hotel-saas/server/utils/prisma.ts" is used


 WARN  Duplicated imports "getSession", the one from "h3" has been ignored and "/Users/kaneko/hotel-saas/server/utils/session-auth.ts" is used


 WARN  Generated an empty chunk: "room-by-ip.get".

[nitro] âœ” Nuxt Nitro server built in 2318ms
ğŸ”§ çµ±ä¸€ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚µãƒ¼ãƒ“ã‚¹åˆæœŸåŒ–: hotel-saas
ğŸ¢ ã‚·ã‚¹ãƒ†ãƒ å: hotel-saas
ğŸ¯ ãƒ†ãƒŠãƒ³ãƒˆID: test-tenant-001

 WARN  Duplicated imports "prisma", the one from "/Users/kaneko/hotel-saas/server/utils/db-service.ts" has been ignored and "/Users/kaneko/hotel-saas/server/utils/prisma.ts" is used


 WARN  Duplicated imports "getSession", the one from "h3" has been ignored and "/Users/kaneko/hotel-saas/server/utils/session-auth.ts" is used


 WARN  Generated an empty chunk: "room-by-ip.get".

[nitro] âœ” Nuxt Nitro server built in 2303ms
ğŸ”§ çµ±ä¸€ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚µãƒ¼ãƒ“ã‚¹åˆæœŸåŒ–: hotel-saas
ğŸ¢ ã‚·ã‚¹ãƒ†ãƒ å: hotel-saas
ğŸ¯ ãƒ†ãƒŠãƒ³ãƒˆID: test-tenant-001
ğŸ”“ ãƒ‘ãƒ–ãƒªãƒƒã‚¯ãƒ‘ã‚¹: /api/v1/auth/login
ğŸ” ãƒ­ã‚°ã‚¤ãƒ³è©¦è¡Œ: admin@omotenasuai.com
âœ… hotel-commonèªè¨¼æˆåŠŸ: { success: true,
  data:
   { success: true,
     sessionId: 'c7b1a06e7e6fe6604864ef87acfcaf5e11243a58694306cbf70e30641f17314d',
     user:
      { user_id: '00b6152e-d2b1-4783-a0d3-e09d06433778',
        tenant_id: 'default',
        email: 'admin@omotenasuai.com',
        role: 'admin',
        level: 3,
        permissions: [] } },
  meta: {},
  timestamp: '2025-10-02T06:05:41.304Z',
  request_id: 'req-1759385141304-pf40xrdhlre' }
âœ… ãƒ­ã‚°ã‚¤ãƒ³æˆåŠŸ: admin@omotenasuai.com ã‚»ãƒƒã‚·ãƒ§ãƒ³ID: c7b1a06e
ğŸª Cookieè¨­å®š: hotel-session-id = c7b1a06e7e6fe660... (httpOnly, sameSite=strict)
ğŸ”’ èªè¨¼ãŒå¿…è¦ãªãƒ‘ã‚¹: /api/v1/auth/me
Redisæ¥ç¶šæˆåŠŸ: redis://localhost:6379
âœ… ã‚»ãƒƒã‚·ãƒ§ãƒ³èªè¨¼æˆåŠŸ: admin@omotenasuai.com (admin) - ãƒ‘ã‚¹: /api/v1/auth/me
ğŸ”’ èªè¨¼ãŒå¿…è¦ãªãƒ‘ã‚¹: /api/v1/admin/tenant/current
âœ… ã‚»ãƒƒã‚·ãƒ§ãƒ³èªè¨¼æˆåŠŸ: admin@omotenasuai.com (admin) - ãƒ‘ã‚¹: /api/v1/admin/tenant/current
ğŸ” ãƒ†ãƒŠãƒ³ãƒˆæƒ…å ±å–å¾—: default
âœ… ãƒ†ãƒŠãƒ³ãƒˆæƒ…å ±å–å¾—æˆåŠŸ: undefined
ERROR  Failed to send log to hotel-common /api/v1/logs/auth: [POST] "http://localhost:3400/api/v1/logs/auth": 400 Bad Request

    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async $fetch2 (node_modules/ofetch/dist/shared/ofetch.03887fc3.mjs:316:15)
    at async Object.sendToHotelCommon (.nuxt/dev/chunks/_/log-client.mjs:1:2462)
    at async Promise.allSettled (index 0)
    at async Object.processBatch (.nuxt/dev/chunks/_/log-client.mjs:1:2401)
    at async Object.startQueueProcessor (.nuxt/dev/chunks/_/log-client.mjs:1:2155)
ERROR  FAILED_LOG_TO_HOTEL_COMMON: {"endpoint":"/api/v1/logs/auth","data":{"tenantId":"default","userId":"00b6152e-d2b1-4783-a0d3-e09d06433778","action":"LOGIN","success":true,"ipAddress":"127.0.0.1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36","deviceInfo":{"email":"admin@omotenasuai.com","role":"admin","timestamp":"2025-10-02T06:05:41.311Z"}},"error":"[POST] \"http://localhost:3400/api/v1/logs/auth\": 400 Bad Request","timestamp":"2025-10-02T06:05:42.208Z"}
ğŸ”’ èªè¨¼ãŒå¿…è¦ãªãƒ‘ã‚¹: /api/v1/auth/me
âœ… ã‚»ãƒƒã‚·ãƒ§ãƒ³èªè¨¼æˆåŠŸ: admin@omotenasuai.com (admin) - ãƒ‘ã‚¹: /api/v1/auth/me
ğŸ”’ èªè¨¼ãŒå¿…è¦ãªãƒ‘ã‚¹: /api/v1/admin/summary?from=2025-10-02&to=2025-10-02
ERROR  âŒ ã‚µãƒãƒªãƒ¼æƒ…å ±å–å¾—ã‚¨ãƒ©ãƒ¼: [GET] "http://localhost:3400/api/v1/admin/summary?from=2025-10-02&to=2025-10-02": 401 Unauthorized

    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async $fetch2 (node_modules/ofetch/dist/shared/ofetch.03887fc3.mjs:316:15)
    at async Object.handler (.nuxt/dev/chunks/routes/api/v1/admin/summary.get.mjs:1:660)
    at async node_modules/h3/dist/index.mjs:2004:19
    at async Object.callAsync (node_modules/unctx/dist/index.mjs:72:16)
    at async Server.toNodeHandle (node_modules/h3/dist/index.mjs:2296:7)
ğŸ”’ èªè¨¼ãŒå¿…è¦ãªãƒ‘ã‚¹: /api/v1/admin/devices/count
ğŸ”’ èªè¨¼ãŒå¿…è¦ãªãƒ‘ã‚¹: /api/v1/admin/orders?status=pending
ğŸ”’ èªè¨¼ãŒå¿…è¦ãªãƒ‘ã‚¹: /api/v1/admin/orders/monthly-count
âœ… ã‚»ãƒƒã‚·ãƒ§ãƒ³èªè¨¼æˆåŠŸ: admin@omotenasuai.com (admin) - ãƒ‘ã‚¹: /api/v1/admin/summary?from=2025-10-02&to=2025-10-02
âœ… ã‚»ãƒƒã‚·ãƒ§ãƒ³èªè¨¼æˆåŠŸ: admin@omotenasuai.com (admin) - ãƒ‘ã‚¹: /api/v1/admin/devices/count
âœ… ã‚»ãƒƒã‚·ãƒ§ãƒ³èªè¨¼æˆåŠŸ: admin@omotenasuai.com (admin) - ãƒ‘ã‚¹: /api/v1/admin/orders?status=pending
âœ… ã‚»ãƒƒã‚·ãƒ§ãƒ³èªè¨¼æˆåŠŸ: admin@omotenasuai.com (admin) - ãƒ‘ã‚¹: /api/v1/admin/orders/monthly-count
ğŸ” ã‚µãƒãƒªãƒ¼æƒ…å ±å–å¾—: default
ğŸ” é€ä¿¡ãƒ˜ãƒƒãƒ€ãƒ¼: { hasCookie: true,
  cookiePreview: 'authjs.csrf-token=84e11eeb5ad1747a0ae55ec9a7109065' }
ğŸ” ãƒ‡ãƒã‚¤ã‚¹æ•°å–å¾—: default
ğŸ” æœˆæ¬¡æ³¨æ–‡æ•°å–å¾—APIé–‹å§‹
ğŸ” å¯¾è±¡å¹´æœˆ: 2025å¹´10æœˆ
ğŸ” é€ä¿¡ãƒ˜ãƒƒãƒ€ãƒ¼: { hasCookie: true,
  cookiePreview: 'authjs.csrf-token=84e11eeb5ad1747a0ae55ec9a7109065' }
ERROR  âŒ æœˆæ¬¡æ³¨æ–‡æ•°å–å¾—ã‚¨ãƒ©ãƒ¼: [GET] "http://localhost:3400/api/v1/admin/orders/monthly-count?year=2025&month=10": 401 Unauthorized

    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async $fetch2 (node_modules/ofetch/dist/shared/ofetch.03887fc3.mjs:316:15)
    at async Object.handler (.nuxt/dev/chunks/routes/api/v1/admin/orders/monthly-count.get.mjs:1:779)
    at async node_modules/h3/dist/index.mjs:2004:19
    at async Object.callAsync (node_modules/unctx/dist/index.mjs:72:16)
    at async Server.toNodeHandle (node_modules/h3/dist/index.mjs:2296:7)
âœ… ãƒ‡ãƒã‚¤ã‚¹æ•°å–å¾—æˆåŠŸ
ğŸ”“ ãƒ‘ãƒ–ãƒªãƒƒã‚¯ãƒ‘ã‚¹: /api/v1/auth/logout
ğŸ”“ ãƒ‘ãƒ–ãƒªãƒƒã‚¯ãƒ‘ã‚¹: /api/v1/auth/logout
â„¹ hmr update /pages/admin/index.vue, /assets/css/tailwind.css, /assets/css/tailwind.css?direct, /pages/admin/index.vue?macro=true, /@id/virtual:nuxt:%2FUsers%2Fkaneko%2Fhotel-saas%2F.nuxt%2Froutes.mjs
â„¹ hmr update /pages/admin/index.vue, /assets/css/tailwind.css, /assets/css/tailwind.css?direct, /pages/admin/index.vue?macro=true, /@id/virtual:nuxt:%2FUsers%2Fkaneko%2Fhotel-saas%2F.nuxt%2Froutes.mjs (x2)
â„¹ hmr update /pages/admin/index.vue, /assets/css/tailwind.css, /assets/css/tailwind.css?direct, /pages/admin/index.vue?macro=true, /@id/virtual:nuxt:%2FUsers%2Fkaneko%2Fhotel-saas%2F.nuxt%2Froutes.mjs (x3)
â„¹ hmr update /assets/css/tailwind.css, /assets/css/tailwind.css?direct, /pages/admin/index.vue?macro=true, /@id/virtual:nuxt:%2FUsers%2Fkaneko%2Fhotel-saas%2F.nuxt%2Froutes.mjs
[nuxt] â„¹ Compiled types/plugins.d.ts in 1298.76ms
[nuxt] â„¹ Compiled plugins.client.mjs in 1300.08ms

 WARN  'manifest-route-rule' middleware already exists at '/Users/kaneko/hotel-saas/node_modules/nuxt/dist/app/middleware/manifest-route-rule.js'. You can set override: true to replace it.


 WARN  Duplicated imports "prisma", the one from "/Users/kaneko/hotel-saas/server/utils/db-service.ts" has been ignored and "/Users/kaneko/hotel-saas/server/utils/prisma.ts" is used


 WARN  Duplicated imports "getSession", the one from "h3" has been ignored and "/Users/kaneko/hotel-saas/server/utils/session-auth.ts" is used


 WARN  Generated an empty chunk: "room-by-ip.get".

[nitro] âœ” Nuxt Nitro server built in 2397ms
ğŸ”§ çµ±ä¸€ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚µãƒ¼ãƒ“ã‚¹åˆæœŸåŒ–: hotel-saas
ğŸ¢ ã‚·ã‚¹ãƒ†ãƒ å: hotel-saas
ğŸ¯ ãƒ†ãƒŠãƒ³ãƒˆID: test-tenant-001

 WARN  Duplicated imports "prisma", the one from "/Users/kaneko/hotel-saas/server/utils/db-service.ts" has been ignored and "/Users/kaneko/hotel-saas/server/utils/prisma.ts" is used


 WARN  Duplicated imports "getSession", the one from "h3" has been ignored and "/Users/kaneko/hotel-saas/server/utils/session-auth.ts" is used


 WARN  Generated an empty chunk: "room-by-ip.get".

[nitro] âœ” Nuxt Nitro server built in 2817ms
ğŸ”§ çµ±ä¸€ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚µãƒ¼ãƒ“ã‚¹åˆæœŸåŒ–: hotel-saas
ğŸ¢ ã‚·ã‚¹ãƒ†ãƒ å: hotel-saas
ğŸ¯ ãƒ†ãƒŠãƒ³ãƒˆID: test-tenant-001

 WARN  Duplicated imports "prisma", the one from "/Users/kaneko/hotel-saas/server/utils/db-service.ts" has been ignored and "/Users/kaneko/hotel-saas/server/utils/prisma.ts" is used


 WARN  Duplicated imports "getSession", the one from "h3" has been ignored and "/Users/kaneko/hotel-saas/server/utils/session-auth.ts" is used


 WARN  Generated an empty chunk: "room-by-ip.get".

[nitro] âœ” Nuxt Nitro server built in 2378ms
ğŸ”§ çµ±ä¸€ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚µãƒ¼ãƒ“ã‚¹åˆæœŸåŒ–: hotel-saas
ğŸ¢ ã‚·ã‚¹ãƒ†ãƒ å: hotel-saas
ğŸ¯ ãƒ†ãƒŠãƒ³ãƒˆID: test-tenant-001

 WARN  Generated an empty chunk: "room-by-ip.get".

[nitro] âœ” Nuxt Nitro server built in 2582ms
ğŸ”§ çµ±ä¸€ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚µãƒ¼ãƒ“ã‚¹åˆæœŸåŒ–: hotel-saas
ğŸ¢ ã‚·ã‚¹ãƒ†ãƒ å: hotel-saas
ğŸ¯ ãƒ†ãƒŠãƒ³ãƒˆID: test-tenant-001
ğŸ”“ ãƒ‘ãƒ–ãƒªãƒƒã‚¯ãƒ‘ã‚¹: /admin/login
ğŸ”’ èªè¨¼ãŒå¿…è¦ãªãƒ‘ã‚¹: /api/v1/auth/me
WARN  [h3] Please prefer using message for longer error messages instead of statusMessage. In the future, statusMessage will be sanitized by default.
ğŸ”“ ãƒ‘ãƒ–ãƒªãƒƒã‚¯ãƒ‘ã‚¹: /api/v1/auth/login
ğŸ” ãƒ­ã‚°ã‚¤ãƒ³è©¦è¡Œ: admin@omotenasuai.com
âœ… hotel-commonèªè¨¼æˆåŠŸ: { success: true,
  data:
   { success: true,
     sessionId: '8b39217d8244d9b27eee05cd851e64846ce3c428677f02a0379dd8577d1a8666',
     user:
      { user_id: '00b6152e-d2b1-4783-a0d3-e09d06433778',
        tenant_id: 'default',
        email: 'admin@omotenasuai.com',
        role: 'admin',
        level: 3,
        permissions: [] } },
  meta: {},
  timestamp: '2025-10-02T06:16:04.691Z',
  request_id: 'req-1759385764691-i2nfrfxbsjc' }
âœ… ãƒ­ã‚°ã‚¤ãƒ³æˆåŠŸ: admin@omotenasuai.com ã‚»ãƒƒã‚·ãƒ§ãƒ³ID: 8b39217d
ğŸª Cookieè¨­å®š: hotel-session-id = 8b39217d8244d9b2... (httpOnly, sameSite=strict)
ğŸ”’ èªè¨¼ãŒå¿…è¦ãªãƒ‘ã‚¹: /api/v1/auth/me
Redisæ¥ç¶šæˆåŠŸ: redis://localhost:6379
âœ… ã‚»ãƒƒã‚·ãƒ§ãƒ³èªè¨¼æˆåŠŸ: admin@omotenasuai.com (admin) - ãƒ‘ã‚¹: /api/v1/auth/me
ğŸ”’ èªè¨¼ãŒå¿…è¦ãªãƒ‘ã‚¹: /api/v1/admin/tenant/current
âœ… ã‚»ãƒƒã‚·ãƒ§ãƒ³èªè¨¼æˆåŠŸ: admin@omotenasuai.com (admin) - ãƒ‘ã‚¹: /api/v1/admin/tenant/current
ğŸ” ãƒ†ãƒŠãƒ³ãƒˆæƒ…å ±å–å¾—: default
âœ… ãƒ†ãƒŠãƒ³ãƒˆæƒ…å ±å–å¾—æˆåŠŸ: undefined
ğŸ”’ èªè¨¼ãŒå¿…è¦ãªãƒ‘ã‚¹: /api/v1/admin/summary?from=2025-10-02&to=2025-10-02
ğŸ”’ èªè¨¼ãŒå¿…è¦ãªãƒ‘ã‚¹: /api/v1/admin/devices/count
ğŸ”’ èªè¨¼ãŒå¿…è¦ãªãƒ‘ã‚¹: /api/v1/admin/orders?status=pending
ğŸ”’ èªè¨¼ãŒå¿…è¦ãªãƒ‘ã‚¹: /api/v1/admin/orders/monthly-count
âœ… ã‚»ãƒƒã‚·ãƒ§ãƒ³èªè¨¼æˆåŠŸ: admin@omotenasuai.com (admin) - ãƒ‘ã‚¹: /api/v1/admin/summary?from=2025-10-02&to=2025-10-02
âœ… ã‚»ãƒƒã‚·ãƒ§ãƒ³èªè¨¼æˆåŠŸ: admin@omotenasuai.com (admin) - ãƒ‘ã‚¹: /api/v1/admin/devices/count
âœ… ã‚»ãƒƒã‚·ãƒ§ãƒ³èªè¨¼æˆåŠŸ: admin@omotenasuai.com (admin) - ãƒ‘ã‚¹: /api/v1/admin/orders?status=pending
âœ… ã‚»ãƒƒã‚·ãƒ§ãƒ³èªè¨¼æˆåŠŸ: admin@omotenasuai.com (admin) - ãƒ‘ã‚¹: /api/v1/admin/orders/monthly-count
ğŸ” hotel-session-id ã‚’ã‚µãƒ¼ãƒãƒ¼å´ã§è¨­å®š: 8b39217d8244d9b2...
ğŸ” ã‚µãƒãƒªãƒ¼æƒ…å ±å–å¾—: default
ğŸ” é€ä¿¡ãƒ˜ãƒƒãƒ€ãƒ¼: { hasCookie: true,
  cookiePreview: 'hotel-session-id=8b39217d8244d9b27eee05cd851e64846' }
ğŸ” ãƒ‡ãƒã‚¤ã‚¹æ•°å–å¾—: default
ERROR  âŒ ã‚µãƒãƒªãƒ¼æƒ…å ±å–å¾—ã‚¨ãƒ©ãƒ¼: [GET] "http://localhost:3400/api/v1/admin/summary?from=2025-10-02&to=2025-10-02": 401 Unauthorized

    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async $fetch2 (node_modules/ofetch/dist/shared/ofetch.03887fc3.mjs:316:15)
    at async Object.handler (.nuxt/dev/chunks/routes/api/v1/admin/summary.get.mjs:1:886)
    at async node_modules/h3/dist/index.mjs:2004:19
    at async Object.callAsync (node_modules/unctx/dist/index.mjs:72:16)
    at async Server.toNodeHandle (node_modules/h3/dist/index.mjs:2296:7)
ğŸ” æœˆæ¬¡æ³¨æ–‡æ•°å–å¾—APIé–‹å§‹
ğŸ” hotel-session-id ã‚’ã‚µãƒ¼ãƒãƒ¼å´ã§è¨­å®š: 8b39217d8244d9b2...
ğŸ” å¯¾è±¡å¹´æœˆ: 2025å¹´10æœˆ
ğŸ” é€ä¿¡ãƒ˜ãƒƒãƒ€ãƒ¼: { hasCookie: true,
  cookiePreview: 'hotel-session-id=8b39217d8244d9b27eee05cd851e64846' }
ERROR  âŒ æœˆæ¬¡æ³¨æ–‡æ•°å–å¾—ã‚¨ãƒ©ãƒ¼: [GET] "http://localhost:3400/api/v1/admin/orders/monthly-count?year=2025&month=10": 401 Unauthorized

    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async $fetch2 (node_modules/ofetch/dist/shared/ofetch.03887fc3.mjs:316:15)
    at async Object.handler (.nuxt/dev/chunks/routes/api/v1/admin/orders/monthly-count.get.mjs:1:1005)
    at async node_modules/h3/dist/index.mjs:2004:19
    at async Object.callAsync (node_modules/unctx/dist/index.mjs:72:16)
    at async Server.toNodeHandle (node_modules/h3/dist/index.mjs:2296:7)
âœ… ãƒ‡ãƒã‚¤ã‚¹æ•°å–å¾—æˆåŠŸ
ğŸ”“ ãƒ‘ãƒ–ãƒªãƒƒã‚¯ãƒ‘ã‚¹: /api/v1/auth/logout
ğŸ”“ ãƒ‘ãƒ–ãƒªãƒƒã‚¯ãƒ‘ã‚¹: /api/v1/auth/logout
ERROR  Failed to send log to hotel-common /api/v1/logs/auth: [POST] "http://localhost:3400/api/v1/logs/auth": 400 Bad Request

    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async $fetch2 (node_modules/ofetch/dist/shared/ofetch.03887fc3.mjs:316:15)
    at async Object.sendToHotelCommon (.nuxt/dev/chunks/_/log-client.mjs:1:2462)
    at async Promise.allSettled (index 0)
    at async Object.processBatch (.nuxt/dev/chunks/_/log-client.mjs:1:2401)
    at async Object.startQueueProcessor (.nuxt/dev/chunks/_/log-client.mjs:1:2155)
ERROR  FAILED_LOG_TO_HOTEL_COMMON: {"endpoint":"/api/v1/logs/auth","data":{"tenantId":"default","userId":"00b6152e-d2b1-4783-a0d3-e09d06433778","action":"LOGIN","success":true,"ipAddress":"127.0.0.1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36","deviceInfo":{"email":"admin@omotenasuai.com","role":"admin","timestamp":"2025-10-02T06:16:04.698Z"}},"error":"[POST] \"http://localhost:3400/api/v1/logs/auth\": 400 Bad Request","timestamp":"2025-10-02T06:16:05.594Z"}
â„¹ page reload plugins/session-auth.client.ts
ğŸ”“ ãƒ‘ãƒ–ãƒªãƒƒã‚¯ãƒ‘ã‚¹: /admin/login
â„¹ page reload composables/useSessionAuth.ts
ğŸ”“ ãƒ‘ãƒ–ãƒªãƒƒã‚¯ãƒ‘ã‚¹: /admin/login

 WARN  'manifest-route-rule' middleware already exists at '/Users/kaneko/hotel-saas/node_modules/nuxt/dist/app/middleware/manifest-route-rule.js'. You can set override: true to replace it.

â„¹ page reload plugins/session-auth.client.ts
â„¹ page reload composables/useSessionAuth.ts
ğŸ”“ ãƒ‘ãƒ–ãƒªãƒƒã‚¯ãƒ‘ã‚¹: /admin/login
ğŸ”“ ãƒ‘ãƒ–ãƒªãƒƒã‚¯ãƒ‘ã‚¹: /admin/login
ğŸ”“ ãƒ‘ãƒ–ãƒªãƒƒã‚¯ãƒ‘ã‚¹: /api/v1/auth/login
ğŸ” ãƒ­ã‚°ã‚¤ãƒ³è©¦è¡Œ: admin@omotenasuai.com
âœ… hotel-commonèªè¨¼æˆåŠŸ: { success: true,
  data:
   { success: true,
     sessionId: '466352f9f332db8bb392a170652e2fccdc5033d24e1144f27654e2129a04ea1b',
     user:
      { user_id: '00b6152e-d2b1-4783-a0d3-e09d06433778',
        tenant_id: 'default',
        email: 'admin@omotenasuai.com',
        role: 'admin',
        level: 3,
        permissions: [] } },
  meta: {},
  timestamp: '2025-10-02T06:25:07.868Z',
  request_id: 'req-1759386307868-709t2zrcy0a' }
âœ… ãƒ­ã‚°ã‚¤ãƒ³æˆåŠŸ: admin@omotenasuai.com ã‚»ãƒƒã‚·ãƒ§ãƒ³ID: 466352f9
ğŸª Cookieè¨­å®š: hotel-session-id = 466352f9f332db8b... (httpOnly, sameSite=strict)
ğŸ”’ èªè¨¼ãŒå¿…è¦ãªãƒ‘ã‚¹: /api/v1/auth/me
âœ… ã‚»ãƒƒã‚·ãƒ§ãƒ³èªè¨¼æˆåŠŸ: admin@omotenasuai.com (admin) - ãƒ‘ã‚¹: /api/v1/auth/me
ğŸ”’ èªè¨¼ãŒå¿…è¦ãªãƒ‘ã‚¹: /api/v1/admin/tenant/current
âœ… ã‚»ãƒƒã‚·ãƒ§ãƒ³èªè¨¼æˆåŠŸ: admin@omotenasuai.com (admin) - ãƒ‘ã‚¹: /api/v1/admin/tenant/current
ğŸ” ãƒ†ãƒŠãƒ³ãƒˆæƒ…å ±å–å¾—: default
âœ… ãƒ†ãƒŠãƒ³ãƒˆæƒ…å ±å–å¾—æˆåŠŸ: undefined
ğŸ”’ èªè¨¼ãŒå¿…è¦ãªãƒ‘ã‚¹: /api/v1/admin/summary?from=2025-10-02&to=2025-10-02
ğŸ”’ èªè¨¼ãŒå¿…è¦ãªãƒ‘ã‚¹: /api/v1/admin/devices/count
ğŸ”’ èªè¨¼ãŒå¿…è¦ãªãƒ‘ã‚¹: /api/v1/admin/orders?status=pending
ğŸ”’ èªè¨¼ãŒå¿…è¦ãªãƒ‘ã‚¹: /api/v1/admin/orders/monthly-count
âœ… ã‚»ãƒƒã‚·ãƒ§ãƒ³èªè¨¼æˆåŠŸ: admin@omotenasuai.com (admin) - ãƒ‘ã‚¹: /api/v1/admin/summary?from=2025-10-02&to=2025-10-02
âœ… ã‚»ãƒƒã‚·ãƒ§ãƒ³èªè¨¼æˆåŠŸ: admin@omotenasuai.com (admin) - ãƒ‘ã‚¹: /api/v1/admin/devices/count
ğŸ” hotel-session-id ã‚’ã‚µãƒ¼ãƒãƒ¼å´ã§è¨­å®š: 466352f9f332db8b...
ğŸ” ã‚µãƒãƒªãƒ¼æƒ…å ±å–å¾—: default
ğŸ” é€ä¿¡ãƒ˜ãƒƒãƒ€ãƒ¼: { hasCookie: true,
  cookiePreview: 'hotel-session-id=466352f9f332db8bb392a170652e2fccd' }
ğŸ” ãƒ‡ãƒã‚¤ã‚¹æ•°å–å¾—: default
ERROR  âŒ ã‚µãƒãƒªãƒ¼æƒ…å ±å–å¾—ã‚¨ãƒ©ãƒ¼: [GET] "http://localhost:3400/api/v1/admin/summary?from=2025-10-02&to=2025-10-02": 401 Unauthorized

    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async $fetch2 (node_modules/ofetch/dist/shared/ofetch.03887fc3.mjs:316:15)
    at async Object.handler (.nuxt/dev/chunks/routes/api/v1/admin/summary.get.mjs:1:886)
    at async node_modules/h3/dist/index.mjs:2004:19
    at async Object.callAsync (node_modules/unctx/dist/index.mjs:72:16)
    at async Server.toNodeHandle (node_modules/h3/dist/index.mjs:2296:7)
âœ… ã‚»ãƒƒã‚·ãƒ§ãƒ³èªè¨¼æˆåŠŸ: admin@omotenasuai.com (admin) - ãƒ‘ã‚¹: /api/v1/admin/orders?status=pending
âœ… ã‚»ãƒƒã‚·ãƒ§ãƒ³èªè¨¼æˆåŠŸ: admin@omotenasuai.com (admin) - ãƒ‘ã‚¹: /api/v1/admin/orders/monthly-count
ğŸ” æœˆæ¬¡æ³¨æ–‡æ•°å–å¾—APIé–‹å§‹
ğŸ” hotel-session-id ã‚’ã‚µãƒ¼ãƒãƒ¼å´ã§è¨­å®š: 466352f9f332db8b...
ğŸ” å¯¾è±¡å¹´æœˆ: 2025å¹´10æœˆ
ğŸ” é€ä¿¡ãƒ˜ãƒƒãƒ€ãƒ¼: { hasCookie: true,
  cookiePreview: 'hotel-session-id=466352f9f332db8bb392a170652e2fccd' }
ERROR  âŒ æœˆæ¬¡æ³¨æ–‡æ•°å–å¾—ã‚¨ãƒ©ãƒ¼: [GET] "http://localhost:3400/api/v1/admin/orders/monthly-count?year=2025&month=10": 401 Unauthorized

    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async $fetch2 (node_modules/ofetch/dist/shared/ofetch.03887fc3.mjs:316:15)
    at async Object.handler (.nuxt/dev/chunks/routes/api/v1/admin/orders/monthly-count.get.mjs:1:1005)
    at async node_modules/h3/dist/index.mjs:2004:19
    at async Object.callAsync (node_modules/unctx/dist/index.mjs:72:16)
    at async Server.toNodeHandle (node_modules/h3/dist/index.mjs:2296:7)
âœ… ãƒ‡ãƒã‚¤ã‚¹æ•°å–å¾—æˆåŠŸ
ğŸ”“ ãƒ‘ãƒ–ãƒªãƒƒã‚¯ãƒ‘ã‚¹: /api/v1/auth/logout
ğŸ”“ ãƒ‘ãƒ–ãƒªãƒƒã‚¯ãƒ‘ã‚¹: /api/v1/auth/logout
ERROR  Failed to send log to hotel-common /api/v1/logs/auth: [POST] "http://localhost:3400/api/v1/logs/auth": 400 Bad Request

    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async $fetch2 (node_modules/ofetch/dist/shared/ofetch.03887fc3.mjs:316:15)
    at async Object.sendToHotelCommon (.nuxt/dev/chunks/_/log-client.mjs:1:2462)
    at async Promise.allSettled (index 0)
    at async Object.processBatch (.nuxt/dev/chunks/_/log-client.mjs:1:2401)
    at async Object.startQueueProcessor (.nuxt/dev/chunks/_/log-client.mjs:1:2155)
ERROR  FAILED_LOG_TO_HOTEL_COMMON: {"endpoint":"/api/v1/logs/auth","data":{"tenantId":"default","userId":"00b6152e-d2b1-4783-a0d3-e09d06433778","action":"LOGIN","success":true,"ipAddress":"127.0.0.1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36","deviceInfo":{"email":"admin@omotenasuai.com","role":"admin","timestamp":"2025-10-02T06:25:07.873Z"}},"error":"[POST] \"http://localhost:3400/api/v1/logs/auth\": 400 Bad Request","timestamp":"2025-10-02T06:25:08.274Z"}
ğŸ”“ ãƒ‘ãƒ–ãƒªãƒƒã‚¯ãƒ‘ã‚¹: /admin/login
ğŸ”“ ãƒ‘ãƒ–ãƒªãƒƒã‚¯ãƒ‘ã‚¹: /api/v1/auth/login
ğŸ” ãƒ­ã‚°ã‚¤ãƒ³è©¦è¡Œ: admin@omotenasuai.com
âœ… hotel-commonèªè¨¼æˆåŠŸ: { success: true,
  data:
   { success: true,
     sessionId: '7006f925edd08cf9dd4a0a325f6b4ba02fc24ce4532a7b70bd2d0d826b26ebf7',
     user:
      { user_id: '00b6152e-d2b1-4783-a0d3-e09d06433778',
        tenant_id: 'default',
        email: 'admin@omotenasuai.com',
        role: 'admin',
        level: 3,
        permissions: [] } },
  meta: {},
  timestamp: '2025-10-02T06:26:15.839Z',
  request_id: 'req-1759386375839-yaj21zyl78n' }
âœ… ãƒ­ã‚°ã‚¤ãƒ³æˆåŠŸ: admin@omotenasuai.com ã‚»ãƒƒã‚·ãƒ§ãƒ³ID: 7006f925
ğŸª Cookieè¨­å®š: hotel-session-id = 7006f925edd08cf9... (httpOnly, sameSite=strict)
ğŸ”’ èªè¨¼ãŒå¿…è¦ãªãƒ‘ã‚¹: /api/v1/auth/me
âœ… ã‚»ãƒƒã‚·ãƒ§ãƒ³èªè¨¼æˆåŠŸ: admin@omotenasuai.com (admin) - ãƒ‘ã‚¹: /api/v1/auth/me
ğŸ”’ èªè¨¼ãŒå¿…è¦ãªãƒ‘ã‚¹: /api/v1/admin/tenant/current
âœ… ã‚»ãƒƒã‚·ãƒ§ãƒ³èªè¨¼æˆåŠŸ: admin@omotenasuai.com (admin) - ãƒ‘ã‚¹: /api/v1/admin/tenant/current
ğŸ” ãƒ†ãƒŠãƒ³ãƒˆæƒ…å ±å–å¾—: default
âœ… ãƒ†ãƒŠãƒ³ãƒˆæƒ…å ±å–å¾—æˆåŠŸ: undefined
ğŸ”’ èªè¨¼ãŒå¿…è¦ãªãƒ‘ã‚¹: /api/v1/admin/summary?from=2025-10-02&to=2025-10-02
ğŸ”’ èªè¨¼ãŒå¿…è¦ãªãƒ‘ã‚¹: /api/v1/admin/devices/count
ERROR  âŒ ã‚µãƒãƒªãƒ¼æƒ…å ±å–å¾—ã‚¨ãƒ©ãƒ¼: [GET] "http://localhost:3400/api/v1/admin/summary?from=2025-10-02&to=2025-10-02": 401 Unauthorized

    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async $fetch2 (node_modules/ofetch/dist/shared/ofetch.03887fc3.mjs:316:15)
    at async Object.handler (.nuxt/dev/chunks/routes/api/v1/admin/summary.get.mjs:1:886)
    at async node_modules/h3/dist/index.mjs:2004:19
    at async Object.callAsync (node_modules/unctx/dist/index.mjs:72:16)
    at async Server.toNodeHandle (node_modules/h3/dist/index.mjs:2296:7)
âœ… ã‚»ãƒƒã‚·ãƒ§ãƒ³èªè¨¼æˆåŠŸ: admin@omotenasuai.com (admin) - ãƒ‘ã‚¹: /api/v1/admin/summary?from=2025-10-02&to=2025-10-02
ğŸ” hotel-session-id ã‚’ã‚µãƒ¼ãƒãƒ¼å´ã§è¨­å®š: 7006f925edd08cf9...
ğŸ” ã‚µãƒãƒªãƒ¼æƒ…å ±å–å¾—: default
ğŸ” é€ä¿¡ãƒ˜ãƒƒãƒ€ãƒ¼: { hasCookie: true,
  cookiePreview: 'hotel-session-id=7006f925edd08cf9dd4a0a325f6b4ba02' }
âœ… ã‚»ãƒƒã‚·ãƒ§ãƒ³èªè¨¼æˆåŠŸ: admin@omotenasuai.com (admin) - ãƒ‘ã‚¹: /api/v1/admin/devices/count
ğŸ” ãƒ‡ãƒã‚¤ã‚¹æ•°å–å¾—: default
ğŸ”’ èªè¨¼ãŒå¿…è¦ãªãƒ‘ã‚¹: /api/v1/admin/orders?status=pending
ğŸ”’ èªè¨¼ãŒå¿…è¦ãªãƒ‘ã‚¹: /api/v1/admin/orders/monthly-count
âœ… ã‚»ãƒƒã‚·ãƒ§ãƒ³èªè¨¼æˆåŠŸ: admin@omotenasuai.com (admin) - ãƒ‘ã‚¹: /api/v1/admin/orders?status=pending
âœ… ã‚»ãƒƒã‚·ãƒ§ãƒ³èªè¨¼æˆåŠŸ: admin@omotenasuai.com (admin) - ãƒ‘ã‚¹: /api/v1/admin/orders/monthly-count
ğŸ” æœˆæ¬¡æ³¨æ–‡æ•°å–å¾—APIé–‹å§‹
ğŸ” hotel-session-id ã‚’ã‚µãƒ¼ãƒãƒ¼å´ã§è¨­å®š: 7006f925edd08cf9...
ğŸ” å¯¾è±¡å¹´æœˆ: 2025å¹´10æœˆ
ğŸ” é€ä¿¡ãƒ˜ãƒƒãƒ€ãƒ¼: { hasCookie: true,
  cookiePreview: 'hotel-session-id=7006f925edd08cf9dd4a0a325f6b4ba02' }
ERROR  âŒ æœˆæ¬¡æ³¨æ–‡æ•°å–å¾—ã‚¨ãƒ©ãƒ¼: [GET] "http://localhost:3400/api/v1/admin/orders/monthly-count?year=2025&month=10": 401 Unauthorized

    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async $fetch2 (node_modules/ofetch/dist/shared/ofetch.03887fc3.mjs:316:15)
    at async Object.handler (.nuxt/dev/chunks/routes/api/v1/admin/orders/monthly-count.get.mjs:1:1005)
    at async node_modules/h3/dist/index.mjs:2004:19
    at async Object.callAsync (node_modules/unctx/dist/index.mjs:72:16)
    at async Server.toNodeHandle (node_modules/h3/dist/index.mjs:2296:7)
âœ… ãƒ‡ãƒã‚¤ã‚¹æ•°å–å¾—æˆåŠŸ
ğŸ”“ ãƒ‘ãƒ–ãƒªãƒƒã‚¯ãƒ‘ã‚¹: /api/v1/auth/logout
ğŸ”“ ãƒ‘ãƒ–ãƒªãƒƒã‚¯ãƒ‘ã‚¹: /api/v1/auth/logout
ERROR  Failed to send log to hotel-common /api/v1/logs/auth: [POST] "http://localhost:3400/api/v1/logs/auth": 400 Bad Request

    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async $fetch2 (node_modules/ofetch/dist/shared/ofetch.03887fc3.mjs:316:15)
    at async Object.sendToHotelCommon (.nuxt/dev/chunks/_/log-client.mjs:1:2462)
    at async Promise.allSettled (index 0)
    at async Object.processBatch (.nuxt/dev/chunks/_/log-client.mjs:1:2401)
    at async Object.startQueueProcessor (.nuxt/dev/chunks/_/log-client.mjs:1:2155)
ERROR  FAILED_LOG_TO_HOTEL_COMMON: {"endpoint":"/api/v1/logs/auth","data":{"tenantId":"default","userId":"00b6152e-d2b1-4783-a0d3-e09d06433778","action":"LOGIN","success":true,"ipAddress":"127.0.0.1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36","deviceInfo":{"email":"admin@omotenasuai.com","role":"admin","timestamp":"2025-10-02T06:26:15.840Z"}},"error":"[POST] \"http://localhost:3400/api/v1/logs/auth\": 400 Bad Request","timestamp":"2025-10-02T06:26:16.374Z"}
ğŸ”“ ãƒ‘ãƒ–ãƒªãƒƒã‚¯ãƒ‘ã‚¹: /admin/login
ğŸ”“ ãƒ‘ãƒ–ãƒªãƒƒã‚¯ãƒ‘ã‚¹: /api/v1/auth/login
ğŸ” ãƒ­ã‚°ã‚¤ãƒ³è©¦è¡Œ: admin@omotenasuai.com
âœ… hotel-commonèªè¨¼æˆåŠŸ: { success: true,
  data:
   { success: true,
     sessionId: '5487e17fa60b0cdd945e27b4e2ebec6e41fa39ae901492505555b6e3dfe28d26',
     user:
      { user_id: '00b6152e-d2b1-4783-a0d3-e09d06433778',
        tenant_id: 'default',
        email: 'admin@omotenasuai.com',
        role: 'admin',
        level: 3,
        permissions: [] } },
  meta: {},
  timestamp: '2025-10-02T06:27:07.367Z',
  request_id: 'req-1759386427367-1gp9ama52tfh' }
âœ… ãƒ­ã‚°ã‚¤ãƒ³æˆåŠŸ: admin@omotenasuai.com ã‚»ãƒƒã‚·ãƒ§ãƒ³ID: 5487e17f
ğŸª Cookieè¨­å®š: hotel-session-id = 5487e17fa60b0cdd... (httpOnly, sameSite=strict)
ERROR  Failed to send log to hotel-common /api/v1/logs/auth: [POST] "http://localhost:3400/api/v1/logs/auth": 400 Bad Request

    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async $fetch2 (node_modules/ofetch/dist/shared/ofetch.03887fc3.mjs:316:15)
    at async Object.sendToHotelCommon (.nuxt/dev/chunks/_/log-client.mjs:1:2462)
    at async Promise.allSettled (index 0)
    at async Object.processBatch (.nuxt/dev/chunks/_/log-client.mjs:1:2401)
    at async Object.startQueueProcessor (.nuxt/dev/chunks/_/log-client.mjs:1:2155)
ERROR  FAILED_LOG_TO_HOTEL_COMMON: {"endpoint":"/api/v1/logs/auth","data":{"tenantId":"default","userId":"00b6152e-d2b1-4783-a0d3-e09d06433778","action":"LOGIN","success":true,"ipAddress":"127.0.0.1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36","deviceInfo":{"email":"admin@omotenasuai.com","role":"admin","timestamp":"2025-10-02T06:27:07.369Z"}},"error":"[POST] \"http://localhost:3400/api/v1/logs/auth\": 400 Bad Request","timestamp":"2025-10-02T06:27:07.442Z"}
ğŸ”’ èªè¨¼ãŒå¿…è¦ãªãƒ‘ã‚¹: /api/v1/auth/me
âœ… ã‚»ãƒƒã‚·ãƒ§ãƒ³èªè¨¼æˆåŠŸ: admin@omotenasuai.com (admin) - ãƒ‘ã‚¹: /api/v1/auth/me
ğŸ”’ èªè¨¼ãŒå¿…è¦ãªãƒ‘ã‚¹: /api/v1/admin/tenant/current
âœ… ã‚»ãƒƒã‚·ãƒ§ãƒ³èªè¨¼æˆåŠŸ: admin@omotenasuai.com (admin) - ãƒ‘ã‚¹: /api/v1/admin/tenant/current
ğŸ” ãƒ†ãƒŠãƒ³ãƒˆæƒ…å ±å–å¾—: default
âœ… ãƒ†ãƒŠãƒ³ãƒˆæƒ…å ±å–å¾—æˆåŠŸ: undefined
ğŸ”’ èªè¨¼ãŒå¿…è¦ãªãƒ‘ã‚¹: /api/v1/admin/summary?from=2025-10-02&to=2025-10-02
ERROR  âŒ ã‚µãƒãƒªãƒ¼æƒ…å ±å–å¾—ã‚¨ãƒ©ãƒ¼: [GET] "http://localhost:3400/api/v1/admin/summary?from=2025-10-02&to=2025-10-02": 401 Unauthorized

    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async $fetch2 (node_modules/ofetch/dist/shared/ofetch.03887fc3.mjs:316:15)
    at async Object.handler (.nuxt/dev/chunks/routes/api/v1/admin/summary.get.mjs:1:886)
    at async node_modules/h3/dist/index.mjs:2004:19
    at async Object.callAsync (node_modules/unctx/dist/index.mjs:72:16)
    at async Server.toNodeHandle (node_modules/h3/dist/index.mjs:2296:7)
ğŸ”’ èªè¨¼ãŒå¿…è¦ãªãƒ‘ã‚¹: /api/v1/admin/devices/count
âœ… ã‚»ãƒƒã‚·ãƒ§ãƒ³èªè¨¼æˆåŠŸ: admin@omotenasuai.com (admin) - ãƒ‘ã‚¹: /api/v1/admin/summary?from=2025-10-02&to=2025-10-02
âœ… ã‚»ãƒƒã‚·ãƒ§ãƒ³èªè¨¼æˆåŠŸ: admin@omotenasuai.com (admin) - ãƒ‘ã‚¹: /api/v1/admin/devices/count
ğŸ” hotel-session-id ã‚’ã‚µãƒ¼ãƒãƒ¼å´ã§è¨­å®š: 5487e17fa60b0cdd...
ğŸ” ã‚µãƒãƒªãƒ¼æƒ…å ±å–å¾—: default
ğŸ” é€ä¿¡ãƒ˜ãƒƒãƒ€ãƒ¼: { hasCookie: true,
  cookiePreview: 'hotel-session-id=5487e17fa60b0cdd945e27b4e2ebec6e4' }
ğŸ” ãƒ‡ãƒã‚¤ã‚¹æ•°å–å¾—: default
âœ… ãƒ‡ãƒã‚¤ã‚¹æ•°å–å¾—æˆåŠŸ
ğŸ”’ èªè¨¼ãŒå¿…è¦ãªãƒ‘ã‚¹: /api/v1/admin/orders?status=pending
ğŸ”’ èªè¨¼ãŒå¿…è¦ãªãƒ‘ã‚¹: /api/v1/admin/orders/monthly-count
âœ… ã‚»ãƒƒã‚·ãƒ§ãƒ³èªè¨¼æˆåŠŸ: admin@omotenasuai.com (admin) - ãƒ‘ã‚¹: /api/v1/admin/orders?status=pending
âœ… ã‚»ãƒƒã‚·ãƒ§ãƒ³èªè¨¼æˆåŠŸ: admin@omotenasuai.com (admin) - ãƒ‘ã‚¹: /api/v1/admin/orders/monthly-count
ğŸ” æœˆæ¬¡æ³¨æ–‡æ•°å–å¾—APIé–‹å§‹
ğŸ” hotel-session-id ã‚’ã‚µãƒ¼ãƒãƒ¼å´ã§è¨­å®š: 5487e17fa60b0cdd...
ğŸ” å¯¾è±¡å¹´æœˆ: 2025å¹´10æœˆ
ğŸ” é€ä¿¡ãƒ˜ãƒƒãƒ€ãƒ¼: { hasCookie: true,
  cookiePreview: 'hotel-session-id=5487e17fa60b0cdd945e27b4e2ebec6e4' }
ERROR  âŒ æœˆæ¬¡æ³¨æ–‡æ•°å–å¾—ã‚¨ãƒ©ãƒ¼: [GET] "http://localhost:3400/api/v1/admin/orders/monthly-count?year=2025&month=10": 401 Unauthorized

    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async $fetch2 (node_modules/ofetch/dist/shared/ofetch.03887fc3.mjs:316:15)
    at async Object.handler (.nuxt/dev/chunks/routes/api/v1/admin/orders/monthly-count.get.mjs:1:1005)
    at async node_modules/h3/dist/index.mjs:2004:19
    at async Object.callAsync (node_modules/unctx/dist/index.mjs:72:16)
    at async Server.toNodeHandle (node_modules/h3/dist/index.mjs:2296:7)
ğŸ”“ ãƒ‘ãƒ–ãƒªãƒƒã‚¯ãƒ‘ã‚¹: /api/v1/auth/logout
ğŸ”“ ãƒ‘ãƒ–ãƒªãƒƒã‚¯ãƒ‘ã‚¹: /api/v1/auth/logout
â„¹ hmr update /assets/css/tailwind.css, /assets/css/tailwind.css?direct, /pages/admin/index.vue, /components/admin/PlanBanner.vue, /layouts/admin.vue, /pages/admin/statistics/index.vue, /pages/admin/front-desk/index.vue, /pages/admin/front-desk/accounting-list.vue, /pages/admin/front-desk/room-notes.vue, /pages/admin/front-desk/history.vue, /pages/admin/orders/index.vue, /pages/admin/devices/index.vue, /pages/admin/menu/index.vue, /pages/admin/billing/index.vue
â„¹ hmr update /assets/css/tailwind.css, /assets/css/tailwind.css?direct, /pages/admin/index.vue, /components/admin/PlanBanner.vue, /layouts/admin.vue, /pages/admin/statistics/index.vue, /pages/admin/front-desk/index.vue, /pages/admin/front-desk/accounting-list.vue, /pages/admin/front-desk/room-notes.vue, /pages/admin/front-desk/history.vue, /pages/admin/orders/index.vue, /pages/admin/devices/index.vue, /pages/admin/menu/index.vue, /pages/admin/billing/index.vue (x2)

 WARN  Duplicated imports "prisma", the one from "/Users/kaneko/hotel-saas/server/utils/db-service.ts" has been ignored and "/Users/kaneko/hotel-saas/server/utils/prisma.ts" is used


 WARN  Duplicated imports "getSession", the one from "h3" has been ignored and "/Users/kaneko/hotel-saas/server/utils/session-auth.ts" is used


 WARN  Generated an empty chunk: "room-by-ip.get".

[nitro] âœ” Nuxt Nitro server built in 2284ms
ğŸ”§ çµ±ä¸€ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚µãƒ¼ãƒ“ã‚¹åˆæœŸåŒ–: hotel-saas
ğŸ¢ ã‚·ã‚¹ãƒ†ãƒ å: hotel-saas
ğŸ¯ ãƒ†ãƒŠãƒ³ãƒˆID: test-tenant-001
