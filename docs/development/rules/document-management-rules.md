# 📄 ドキュメント管理ルール

## 概要
このドキュメントは、hotel-kanriプロジェクトにおけるドキュメント（仕様書、設計書、運用マニュアルなど）の作成・管理・更新に関するルールを定義します。本番サーバーへのデプロイ、バージョン管理、サーバー運用方法などの技術ドキュメントを一貫性をもって管理するためのガイドラインです。

## 🏗️ ドキュメント構造

### ディレクトリ構造
ドキュメントは以下のディレクトリ構造に従って整理します：

```
docs/
├── architecture/      # システムアーキテクチャ関連
├── api/               # API仕様関連
├── db/                # データベース関連
├── development/       # 開発プロセス関連
│   ├── guidelines/    # 開発ガイドライン
│   ├── rules/         # 開発ルール（本ドキュメントを含む）
│   ├── workflows/     # 開発ワークフロー
│   └── deployment/    # デプロイ関連（新設）
├── operations/        # 運用関連（新設）
│   ├── server/        # サーバー運用
│   ├── monitoring/    # 監視・アラート
│   ├── backup/        # バックアップ・リカバリ
│   └── security/      # セキュリティ運用
├── features/          # 機能仕様関連
├── integration/       # システム連携関連
├── rules/             # プロジェクト全体ルール
├── spec/              # システム仕様関連
└── systems/           # 各システム固有情報
```

### ドキュメント種別
1. **設計ドキュメント**: アーキテクチャ、DB設計、API設計など
2. **開発ドキュメント**: コーディング規約、開発フロー、テスト方針など
3. **運用ドキュメント**: デプロイ手順、監視方法、障害対応など
4. **ユーザードキュメント**: 操作マニュアル、トラブルシューティングなど

## 👥 責任者とロール

### ドキュメント管理責任者
- **Iza（統合管理者）**: ドキュメント管理の全体統括、ドキュメントテンプレート・基準の策定
- **各システム担当AI**: 担当システムのドキュメント作成・管理
  - **Sun（hotel-saas）**: UI/UX、顧客体験関連ドキュメント
  - **Luna（hotel-pms）**: 運用、予約管理関連ドキュメント
  - **Suno（hotel-member）**: 顧客管理、セキュリティ関連ドキュメント

### レビュアー
- **システム間連携ドキュメント**: 全AIエージェントによる相互レビュー
- **システム固有ドキュメント**: 担当AIが作成、Izaが最終レビュー
- **運用ドキュメント**: Luna（運用重視）が主担当、Izaが最終レビュー
- **セキュリティドキュメント**: Suno（セキュリティ重視）が主担当、Izaが最終レビュー

## 📝 ドキュメント作成・更新プロセス

### 新規ドキュメント作成
1. **計画**: 作成目的・対象読者・内容概要の定義（担当AI）
2. **テンプレート選択**: 適切なテンプレートの選択（Izaが提供）
3. **ドラフト作成**: 初版ドラフトの作成（担当AI）
4. **レビュー**: 関連AIによるレビュー（最低1名）
5. **承認**: Izaによる最終確認・承認
6. **公開**: 確定版のコミット・公開

### ドキュメント更新
1. **変更提案**: 更新内容・理由の明確化（担当AI）
2. **影響範囲確認**: 他ドキュメントへの影響確認（担当AI）
3. **更新実施**: ドキュメント更新（担当AI）
4. **レビュー**: 変更内容に応じたレビュー（関連AI）
5. **承認**: 重要な変更はIzaによる承認
6. **公開**: 更新版のコミット・公開

### バージョン管理
- **バージョン番号**: `vX.Y.Z`形式（X:メジャー、Y:マイナー、Z:パッチ）
- **変更履歴**: 各ドキュメント末尾に変更履歴セクションを設置
- **Git管理**: すべてのドキュメントをGitで管理、コミットメッセージに変更内容を明記

## 🔍 ドキュメント品質基準

### 必須要素
- **目的**: ドキュメントの目的・対象読者の明記
- **前提条件**: 必要な知識・環境の明記
- **詳細内容**: 明確で具体的な説明
- **例示**: 必要に応じた例・サンプルコードの提供
- **関連情報**: 関連ドキュメントへのリンク

### 品質チェックリスト
- [ ] 正確性: 事実に基づいた正確な情報提供
- [ ] 完全性: 必要な情報がすべて含まれている
- [ ] 一貫性: 他ドキュメントとの整合性がとれている
- [ ] 明確性: 明確で理解しやすい表現を使用
- [ ] 最新性: 最新の情報・状態を反映している

## 🔄 定期レビュー・メンテナンス

### 定期レビュースケジュール
- **重要ドキュメント**: 四半期ごと
- **標準ドキュメント**: 半年ごと
- **参考ドキュメント**: 年次

### レビュー内容
- 情報の正確性・最新性確認
- リンク切れ・参照エラーの確認
- 不足情報・改善点の特定
- フォーマット・スタイルの一貫性確認

### 廃止プロセス
1. **廃止提案**: 廃止理由・影響の明確化
2. **代替情報**: 必要に応じて代替ドキュメントの指定
3. **承認**: Izaによる廃止承認
4. **アーカイブ**: 廃止ドキュメントのアーカイブ処理

## 📋 運用・デプロイドキュメント特別ルール

### 運用ドキュメント
- **環境情報**: 各環境（開発・ステージング・本番）の明確な区別
- **連絡先**: 担当者・緊急連絡先の明記
- **手順書**: ステップバイステップの詳細手順
- **トラブルシューティング**: 一般的な問題と解決策

### デプロイドキュメント
- **前提条件**: 必要な権限・環境の明記
- **デプロイ手順**: 詳細な手順とコマンド例
- **ロールバック手順**: 問題発生時の対応手順
- **検証方法**: デプロイ成功確認方法

### サーバー構成ドキュメント
- **構成図**: サーバー構成・ネットワーク図
- **スペック**: サーバースペック・リソース情報
- **アクセス方法**: 各環境へのアクセス方法
- **セキュリティ設定**: ファイアウォール・認証情報

## 📚 ドキュメントテンプレート

各種ドキュメントのテンプレートは `docs/templates/` ディレクトリに格納します。
主要テンプレート：

- 機能仕様書テンプレート
- API仕様書テンプレート
- デプロイ手順書テンプレート
- 運用マニュアルテンプレート
- 障害対応手順書テンプレート

## 🚀 導入・移行計画

### フェーズ1: 基盤整備（1週間）
- ディレクトリ構造の整備
- テンプレートの作成
- 責任者の明確化

### フェーズ2: 既存ドキュメント整理（2週間）
- 既存ドキュメントの棚卸し
- 新構造への移行
- 不足ドキュメントの特定

### フェーズ3: 優先ドキュメント作成（2週間）
- デプロイ手順書の作成
- サーバー構成図の作成
- 運用マニュアルの作成

### フェーズ4: 完全導入（継続）
- 全ドキュメントの品質確認
- 定期レビュープロセスの開始
- 継続的な改善

## 📅 変更履歴
- v1.0.0 (2023-08-01): 初版作成