# ğŸ§ª SSOT: ãƒ†ã‚¹ãƒˆãƒ»ãƒ‡ãƒãƒƒã‚°åŸºç›¤æ•´å‚™è¨ˆç”»

**ãƒãƒ¼ã‚¸ãƒ§ãƒ³**: 1.0.0  
**åˆ¶å®šæ—¥**: 2025å¹´10æœˆ22æ—¥  
**å¯¾è±¡ã‚·ã‚¹ãƒ†ãƒ **: å…¨ã‚·ã‚¹ãƒ†ãƒ ï¼ˆhotel-saas, hotel-pms, hotel-member, hotel-commonï¼‰  
**ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹**: ğŸ“‹ è¨ˆç”»ä¸­

---

## ğŸ¯ ç›®çš„

hotel-kanriãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå…¨ä½“ã®å“è³ªä¿è¨¼ä½“åˆ¶ã‚’å¼·åŒ–ã—ã€ä»¥ä¸‹ã‚’å®Ÿç¾ã™ã‚‹ï¼š

1. **è‡ªå‹•ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ** - PRä½œæˆæ™‚ï½æœ¬ç•ªãƒ‡ãƒ—ãƒ­ã‚¤ã¾ã§ä¸€æ°—é€šè²«
2. **ãƒã‚°ã®æ—©æœŸç™ºè¦‹** - Shift-leftï¼ˆå·¦ã‚·ãƒ•ãƒˆï¼‰æˆ¦ç•¥ã®å¾¹åº•
3. **é‹ç”¨ç›£è¦–ã®è‡ªå‹•åŒ–** - æœ¬ç•ªéšœå®³ã®å³åº§æ¤œçŸ¥ã¨è‡ªå‹•èµ·ç¥¨
4. **å“è³ªã‚²ãƒ¼ãƒˆã®æ¨™æº–åŒ–** - ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã€ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£ã®å®šé‡è©•ä¾¡

---

## ğŸ“Š ç¾çŠ¶åˆ†æ

### âœ… æ—¢å­˜ã®å¼·ã¿

| é …ç›® | çŠ¶æ…‹ | å‚™è€ƒ |
|------|------|------|
| **QOS v1æº–æ‹ ** | âœ… å°å…¥æ¸ˆã¿ | Docs-as-Codeã€ãƒˆãƒ¬ãƒ¼ã‚µãƒ“ãƒªãƒ†ã‚£ç¢ºç«‹ |
| **OWASP ASVS L2** | âœ… å°å…¥æ¸ˆã¿ | ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ |
| **Linearçµ±åˆ** | âœ… å°å…¥æ¸ˆã¿ | ã‚¿ã‚¹ã‚¯ç®¡ç†ã€ä¾å­˜é–¢ä¿‚ç®¡ç† |
| **ãƒ†ã‚¹ãƒˆã‚¹ã‚¤ãƒ¼ãƒˆ** | âš ï¸ ä¸€éƒ¨å®Ÿè£… | 127ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹è¿½åŠ æ¸ˆã¿ï¼ˆæ¨©é™ç®¡ç†ã®ã¿ï¼‰ |
| **CI/CD** | âŒ æœªæ•´å‚™ | GitHub Actionsæœªè¨­å®š |
| **E2Eè‡ªå‹•åŒ–** | âŒ æœªæ•´å‚™ | Playwrightæœªã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ— |
| **é‹ç”¨ç›£è¦–** | âŒ æœªæ•´å‚™ | Sentryæœªå°å…¥ |

### âš ï¸ èª²é¡Œ

1. **ãƒ†ã‚¹ãƒˆå®Ÿè¡ŒãŒæ‰‹å‹•** - é–‹ç™ºè€…ä¾å­˜ã€å®Ÿè¡Œå¿˜ã‚Œãƒªã‚¹ã‚¯
2. **å“è³ªã‚²ãƒ¼ãƒˆãªã—** - ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹åŠ£åŒ–ã€a11yé•åã®è¦‹é€ƒã—
3. **æœ¬ç•ªç›£è¦–ãŒä¸ååˆ†** - ã‚¨ãƒ©ãƒ¼æ¤œçŸ¥ãŒé…ã‚Œã‚‹
4. **ãƒã‚°èµ·ç¥¨ãŒæ‰‹å‹•** - ç™ºè¦‹â†’èµ·ç¥¨ã¾ã§ã®ãƒ©ã‚°

---

## ğŸš€ æ®µéšçš„å°å…¥è¨ˆç”»ï¼ˆ3ãƒ•ã‚§ãƒ¼ã‚ºï¼‰

### Phase 1: åŸºç›¤æ•´å‚™ï¼ˆå„ªå…ˆåº¦: æœ€é«˜ï¼‰

**æœŸé–“**: 2é€±é–“  
**å·¥æ•°**: 40æ™‚é–“  
**ç›®æ¨™**: PRä½œæˆæ™‚ã®è‡ªå‹•ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ

#### 1.1 Cursoræ¨™æº–æ©Ÿèƒ½ã®æ´»ç”¨

```bash
# .cursor/commands.json ã«è¿½åŠ 
{
  "test": "npm test",
  "lint-fix": "npm run lint:fix",
  "test-coverage": "npm test -- --coverage",
  "e2e-smoke": "npx playwright test --grep @smoke"
}
```

**å®Ÿè£…**:
- âœ… `/test` ã‚³ãƒãƒ³ãƒ‰ã§å˜ä½“ãƒ†ã‚¹ãƒˆä¸€æ‹¬å®Ÿè¡Œ
- âœ… `/lint-fix` ã‚³ãƒãƒ³ãƒ‰ã§ã‚³ãƒ¼ãƒ‰å“è³ªãƒã‚§ãƒƒã‚¯
- âœ… Agentæ©Ÿèƒ½ã§ãƒ†ã‚¹ãƒˆå¤±æ•—æ™‚ã®è‡ªå‹•ä¿®æ­£

#### 1.2 GitHub Actions ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ï¼ˆå¿…é ˆï¼‰

**ãƒ•ã‚¡ã‚¤ãƒ«**: `.github/workflows/test.yml`

```yaml
name: Test & Quality Gate

on:
  pull_request:
    branches: [main, develop]
  push:
    branches: [main, develop]

jobs:
  unit-test:
    runs-on: ubuntu-latest
    strategy:
      matrix:
        service: [hotel-common, hotel-saas, hotel-pms, hotel-member]
    
    steps:
      - uses: actions/checkout@v4
      
      - name: Setup Node.js
        uses: actions/setup-node@v4
        with:
          node-version: '20'
          cache: 'npm'
      
      - name: Install dependencies
        run: |
          cd ${{ matrix.service }}
          npm ci
      
      - name: Run unit tests
        run: |
          cd ${{ matrix.service }}
          npm test -- --coverage
      
      - name: Upload coverage
        uses: codecov/codecov-action@v3
        with:
          directory: ${{ matrix.service }}/coverage

  lint:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      - uses: actions/setup-node@v4
      - run: npm ci
      - run: npm run lint
```

**å·¥æ•°**: 8æ™‚é–“

#### 1.3 å¿…é ˆMCPå°å…¥

| MCP | ç›®çš„ | å„ªå…ˆåº¦ | å·¥æ•° |
|-----|------|--------|------|
| **GitHub MCP** | PRè‡ªå‹•ã‚³ãƒ¡ãƒ³ãƒˆã€ãƒã‚§ãƒƒã‚¯çµæœå‚ç…§ | ğŸ”´ æœ€é«˜ | 4h |
| **Linear MCP** | ãƒã‚°è‡ªå‹•èµ·ç¥¨ã€å„ªå…ˆåº¦èª¿æ•´ | ğŸ”´ æœ€é«˜ | 4h |
| **MCP Inspector** | MCPå‹•ä½œç¢ºèª | ğŸ”´ æœ€é«˜ | 2h |

**ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è¨­å®š**:
```json
{
  "mcpServers": {
    "github": {
      "command": "npx",
      "args": ["-y", "@modelcontextprotocol/server-github"],
      "env": {
        "GITHUB_PERSONAL_ACCESS_TOKEN": "${GITHUB_TOKEN}"
      }
    },
    "linear": {
      "command": "npx",
      "args": ["-y", "@linear/mcp-server"],
      "env": {
        "LINEAR_API_KEY": "${LINEAR_API_KEY}"
      }
    }
  }
}
```

**æ¨©é™è¨­è¨ˆ**:
- GitHub: `repo` (read/write), `pull_request` (write)
- Linear: `issue:create`, `issue:update` (æœ€å°æ¨©é™)

**å·¥æ•°**: 10æ™‚é–“

### Phase 2: å“è³ªã‚²ãƒ¼ãƒˆæ•´å‚™ï¼ˆå„ªå…ˆåº¦: é«˜ï¼‰

**æœŸé–“**: 3é€±é–“  
**å·¥æ•°**: 60æ™‚é–“  
**ç›®æ¨™**: E2Eè‡ªå‹•åŒ–ã€éæ©Ÿèƒ½ãƒ†ã‚¹ãƒˆã®æ¨™æº–åŒ–

#### 2.1 Playwright E2Eè‡ªå‹•åŒ–

**ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—**:
```bash
# å„ã‚·ã‚¹ãƒ†ãƒ ã«Playwrightå°å…¥
cd hotel-saas
npm install -D @playwright/test
npx playwright install

# playwright.config.ts
import { defineConfig } from '@playwright/test';

export default defineConfig({
  testDir: './tests/e2e',
  timeout: 30000,
  retries: 2,
  use: {
    baseURL: process.env.E2E_BASE_URL || 'http://localhost:3100',
    trace: 'on-first-retry',
    screenshot: 'only-on-failure',
  },
  webServer: {
    command: 'npm run dev',
    port: 3100,
    reuseExistingServer: true,
  },
  reporter: [
    ['html'],
    ['junit', { outputFile: 'test-results/junit.xml' }],
  ],
});
```

**ä¸»è¦ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ•ãƒ­ãƒ¼ã®E2Eä½œæˆ**:
1. âœ… ç®¡ç†è€…ãƒ­ã‚°ã‚¤ãƒ³ â†’ ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰è¡¨ç¤º
2. âœ… å½¹è·ç®¡ç†ï¼ˆä½œæˆãƒ»ç·¨é›†ãƒ»å‰Šé™¤ï¼‰â† **æ—¢ã«ä½œæˆæ¸ˆã¿**
3. â³ æ³¨æ–‡ç®¡ç†ï¼ˆä½œæˆãƒ»ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹å¤‰æ›´ãƒ»ã‚­ãƒ£ãƒ³ã‚»ãƒ«ï¼‰
4. â³ ãƒ¡ãƒ‹ãƒ¥ãƒ¼ç®¡ç†ï¼ˆä½œæˆãƒ»å…¬é–‹ãƒ»éå…¬é–‹ï¼‰
5. â³ ã‚¹ã‚¿ãƒƒãƒ•ç®¡ç†ï¼ˆæ‹›å¾…ãƒ»æ¨©é™è¨­å®šãƒ»å‰Šé™¤ï¼‰

**å·¥æ•°**: 24æ™‚é–“

#### 2.2 Playwright MCPå°å…¥

```json
{
  "mcpServers": {
    "playwright": {
      "command": "npx",
      "args": ["-y", "@playwright/mcp-server"],
      "env": {
        "PLAYWRIGHT_BASE_URL": "http://localhost:3100"
      }
    }
  }
}
```

**ä½¿ç”¨ä¾‹**:
```
# Cursorã§å¯¾è©±
"æ¨©é™ç®¡ç†ç”»é¢ã§E2Eãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œã—ã¦ã€ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆã‚’PRã«è²¼ä»˜ã—ã¦ãã ã•ã„"
â†’ Playwright MCPçµŒç”±ã§è‡ªå‹•å®Ÿè¡Œ â†’ GitHub MCPã§PRã‚³ãƒ¡ãƒ³ãƒˆ
```

**å·¥æ•°**: 8æ™‚é–“

#### 2.3 å“è³ªã‚²ãƒ¼ãƒˆMCPå°å…¥

| MCP | ç›®çš„ | é–¾å€¤ | å·¥æ•° |
|-----|------|------|------|
| **axe MCP** | ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£ç›£æŸ» | WCAG 2.1 AAæº–æ‹ ã€é•å0ä»¶ | 8h |
| **Lighthouse MCP** | ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ | Performance Score â‰¥90 | 8h |

**axeè¨­å®šä¾‹**:
```typescript
// tests/e2e/a11y.spec.ts
import { test, expect } from '@playwright/test';
import AxeBuilder from '@axe-core/playwright';

test('æ¨©é™ç®¡ç†ç”»é¢ã®a11yç›£æŸ»', async ({ page }) => {
  await page.goto('/admin/settings/roles');
  
  const accessibilityScanResults = await new AxeBuilder({ page })
    .withTags(['wcag2a', 'wcag2aa'])
    .analyze();

  expect(accessibilityScanResults.violations).toEqual([]);
});
```

**Lighthouseè¨­å®šä¾‹**:
```json
// lighthouse.budget.json
[
  {
    "path": "/*",
    "timings": [
      { "metric": "first-contentful-paint", "budget": 2000 },
      { "metric": "largest-contentful-paint", "budget": 2500 },
      { "metric": "time-to-interactive", "budget": 3500 }
    ],
    "resourceSizes": [
      { "resourceType": "script", "budget": 300 },
      { "resourceType": "stylesheet", "budget": 50 },
      { "resourceType": "image", "budget": 200 }
    ]
  }
]
```

**å·¥æ•°**: 16æ™‚é–“

#### 2.4 GitHub Actionsæ‹¡å¼µ

```yaml
# .github/workflows/quality-gate.yml
name: Quality Gate

on:
  pull_request:
    branches: [main, develop]

jobs:
  e2e:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      - uses: actions/setup-node@v4
      - run: npm ci
      - run: npx playwright install --with-deps
      - run: npx playwright test
      - uses: actions/upload-artifact@v3
        if: failure()
        with:
          name: playwright-report
          path: playwright-report/

  a11y:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      - uses: actions/setup-node@v4
      - run: npm ci
      - run: npx playwright test tests/e2e/a11y.spec.ts
      - name: Comment PR
        uses: actions/github-script@v6
        if: failure()
        with:
          script: |
            github.rest.issues.createComment({
              issue_number: context.issue.number,
              owner: context.repo.owner,
              repo: context.repo.repo,
              body: 'âš ï¸ ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£é•åãŒæ¤œå‡ºã•ã‚Œã¾ã—ãŸã€‚è©³ç´°ã¯Artifactã‚’ç¢ºèªã—ã¦ãã ã•ã„ã€‚'
            })

  lighthouse:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      - uses: treosh/lighthouse-ci-action@v10
        with:
          urls: |
            http://localhost:3100/admin
            http://localhost:3100/admin/settings/roles
          budgetPath: ./lighthouse.budget.json
          uploadArtifacts: true
```

**å·¥æ•°**: 12æ™‚é–“

### Phase 3: é‹ç”¨ç›£è¦–è‡ªå‹•åŒ–ï¼ˆå„ªå…ˆåº¦: ä¸­ï¼‰

**æœŸé–“**: 2é€±é–“  
**å·¥æ•°**: 32æ™‚é–“  
**ç›®æ¨™**: æœ¬ç•ªéšœå®³ã®å³åº§æ¤œçŸ¥ã¨è‡ªå‹•èµ·ç¥¨

#### 3.1 Sentryå°å…¥

**ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—**:
```bash
# å„ã‚·ã‚¹ãƒ†ãƒ ã«Sentry SDKå°å…¥
npm install @sentry/node @sentry/vue
```

**hotel-saas (Nuxt 3)**:
```typescript
// nuxt.config.ts
export default defineNuxtConfig({
  modules: ['@sentry/nuxt/module'],
  sentry: {
    dsn: process.env.SENTRY_DSN,
    environment: process.env.NODE_ENV,
    tracesSampleRate: 0.2, // æœ¬ç•ªã¯20%ã‚µãƒ³ãƒ—ãƒªãƒ³ã‚°
  },
});
```

**hotel-common (Express)**:
```typescript
// src/index.ts
import * as Sentry from '@sentry/node';

Sentry.init({
  dsn: process.env.SENTRY_DSN,
  environment: process.env.NODE_ENV,
  tracesSampleRate: 0.2,
});

app.use(Sentry.Handlers.requestHandler());
app.use(Sentry.Handlers.errorHandler());
```

**å·¥æ•°**: 12æ™‚é–“

#### 3.2 Sentry MCPå°å…¥

```json
{
  "mcpServers": {
    "sentry": {
      "command": "npx",
      "args": ["-y", "@sentry/mcp-server"],
      "env": {
        "SENTRY_AUTH_TOKEN": "${SENTRY_AUTH_TOKEN}",
        "SENTRY_ORG": "hotel-kanri",
        "SENTRY_PROJECT": "hotel-saas"
      }
    }
  }
}
```

**è‡ªå‹•é‹ç”¨ãƒ•ãƒ­ãƒ¼**:
```
æœ¬ç•ªã‚¨ãƒ©ãƒ¼ç™ºç”Ÿ
  â†“ (Sentryæ¤œçŸ¥)
Sentry MCP: æ–°è¦ãƒ»æ€¥å¢—ã‚¨ãƒ©ãƒ¼ã‚’æ¤œå‡º
  â†“
Linear MCP: ã‚¤ãƒ³ã‚·ãƒ‡ãƒ³ãƒˆãƒã‚±ãƒƒãƒˆè‡ªå‹•ä½œæˆ
  â”œâ”€ Priority: Urgent
  â”œâ”€ Label: incident, sentry
  â””â”€ Description: ã‚¹ã‚¿ãƒƒã‚¯ãƒˆãƒ¬ãƒ¼ã‚¹ã€ç™ºç”Ÿé »åº¦ã€å½±éŸ¿ãƒ¦ãƒ¼ã‚¶ãƒ¼æ•°
  â†“
GitHub MCP: ãƒ›ãƒƒãƒˆãƒ•ã‚£ãƒƒã‚¯ã‚¹PRé››å½¢ä½œæˆ
  â”œâ”€ Branch: hotfix/ISSUE-XXX
  â”œâ”€ Title: "[HOTFIX] {ã‚¨ãƒ©ãƒ¼æ¦‚è¦}"
  â””â”€ Body: Linearãƒã‚±ãƒƒãƒˆã¸ã®ãƒªãƒ³ã‚¯
```

**å·¥æ•°**: 8æ™‚é–“

#### 3.3 é‹ç”¨ç›£è¦–ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰

**Sentryã‚¢ãƒ©ãƒ¼ãƒˆè¨­å®š**:
- æ–°è¦ã‚¨ãƒ©ãƒ¼ç™ºç”Ÿ â†’ Slacké€šçŸ¥ + Linearè‡ªå‹•èµ·ç¥¨
- ã‚¨ãƒ©ãƒ¼æ€¥å¢—ï¼ˆ10åˆ†ã§10ä»¶ä»¥ä¸Šï¼‰ â†’ PagerDutyé€šçŸ¥
- è‡´å‘½çš„ã‚¨ãƒ©ãƒ¼ï¼ˆ500ç³»ï¼‰ â†’ å³åº§ã«Slack + PagerDuty

**å·¥æ•°**: 12æ™‚é–“

---

## ğŸ“‹ å°å…¥ãƒ­ãƒ¼ãƒ‰ãƒãƒƒãƒ—ï¼ˆå…¨ä½“ï¼‰

### Week 1-2: Phase 1åŸºç›¤æ•´å‚™

| ã‚¿ã‚¹ã‚¯ | æ‹…å½“ | å·¥æ•° | çŠ¶æ…‹ |
|--------|------|------|------|
| Cursor commandsè¨­å®š | Iza | 2h | â³ |
| GitHub Actions (test.yml) | Iza | 8h | â³ |
| GitHub MCPå°å…¥ | Iza | 4h | â³ |
| Linear MCPå°å…¥ | Iza | 4h | â³ |
| MCP Inspectorå°å…¥ | Iza | 2h | â³ |
| å‹•ä½œç¢ºèªãƒ»èª¿æ•´ | Iza | 4h | â³ |

**ãƒã‚¤ãƒ«ã‚¹ãƒˆãƒ¼ãƒ³**: PRä½œæˆæ™‚ã®è‡ªå‹•ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ

### Week 3-5: Phase 2å“è³ªã‚²ãƒ¼ãƒˆ

| ã‚¿ã‚¹ã‚¯ | æ‹…å½“ | å·¥æ•° | çŠ¶æ…‹ |
|--------|------|------|------|
| Playwright ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ— | Iza | 8h | â³ |
| E2Eãƒ†ã‚¹ãƒˆä½œæˆï¼ˆ5ãƒ•ãƒ­ãƒ¼ï¼‰ | Iza | 24h | â³ |
| Playwright MCPå°å…¥ | Iza | 8h | â³ |
| axe MCPå°å…¥ | Iza | 8h | â³ |
| Lighthouse MCPå°å…¥ | Iza | 8h | â³ |
| GitHub Actionsæ‹¡å¼µ | Iza | 12h | â³ |

**ãƒã‚¤ãƒ«ã‚¹ãƒˆãƒ¼ãƒ³**: å“è³ªã‚²ãƒ¼ãƒˆè‡ªå‹•åˆ¤å®š

### Week 6-7: Phase 3é‹ç”¨ç›£è¦–

| ã‚¿ã‚¹ã‚¯ | æ‹…å½“ | å·¥æ•° | çŠ¶æ…‹ |
|--------|------|------|------|
| Sentry SDKå°å…¥ | Iza | 12h | â³ |
| Sentry MCPå°å…¥ | Iza | 8h | â³ |
| é‹ç”¨ç›£è¦–ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ | Iza | 12h | â³ |

**ãƒã‚¤ãƒ«ã‚¹ãƒˆãƒ¼ãƒ³**: æœ¬ç•ªéšœå®³è‡ªå‹•æ¤œçŸ¥

---

## ğŸ” ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£é‹ç”¨ï¼ˆè¶…é‡è¦ï¼‰

### å¿…é ˆãƒ«ãƒ¼ãƒ«

1. **ãƒªãƒ¢ãƒ¼ãƒˆå…¬å¼MCPå„ªå…ˆ + OAuth**
   - GitHub, Linear, Sentry ã¯å…¬å¼MCPã‚’ä½¿ç”¨
   - OAuthèªè¨¼ã§ãƒˆãƒ¼ã‚¯ãƒ³ç®¡ç†ã‚’æœ€å°åŒ–

2. **æœ€å°æ¨©é™ã®åŸå‰‡**
   - GitHub: `repo:read`, `pull_request:write` ã®ã¿
   - Linear: `issue:create`, `issue:update` ã®ã¿
   - Sentry: `project:read`, `event:read` ã®ã¿

3. **æœ¬ç•ªã¨æ¤œè¨¼ç”¨ã®åˆ†é›¢**
   ```bash
   # æœ¬ç•ªç”¨
   SENTRY_DSN_PRODUCTION=https://xxx@sentry.io/production
   GITHUB_TOKEN_PRODUCTION=ghp_xxx
   
   # æ¤œè¨¼ç”¨
   SENTRY_DSN_STAGING=https://xxx@sentry.io/staging
   GITHUB_TOKEN_STAGING=ghp_yyy
   ```

4. **ä¾›çµ¦ç¶²ãƒªã‚¹ã‚¯å¯¾ç­–**
   - MCPå°å…¥å‰ã«ç½²åãƒ»å‡ºæ‰€ç¢ºèª
   - ãƒãƒ¼ã‚¸ãƒ§ãƒ³ãƒ”ãƒ³ï¼ˆ`@playwright/mcp-server@1.2.3`ï¼‰
   - å®šæœŸçš„ãªéµãƒ­ãƒ¼ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆ3ãƒ¶æœˆã”ã¨ï¼‰

5. **ç§˜å¯†æƒ…å ±ã®ç®¡ç†**
   ```bash
   # .env.mcp (Gitignoreå¿…é ˆ)
   GITHUB_TOKEN=ghp_xxx
   LINEAR_API_KEY=lin_xxx
   SENTRY_AUTH_TOKEN=sntrys_xxx
   
   # GitHub Secretsç™»éŒ²
   gh secret set GITHUB_TOKEN
   gh secret set LINEAR_API_KEY
   gh secret set SENTRY_AUTH_TOKEN
   ```

### å®šæœŸç›£æŸ»

- **æœˆæ¬¡**: MCPã‚¢ã‚¯ã‚»ã‚¹ãƒ­ã‚°ç¢ºèª
- **å››åŠæœŸ**: æ¨©é™è¨­å®šãƒ¬ãƒ“ãƒ¥ãƒ¼ã€éµãƒ­ãƒ¼ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³
- **å¹´æ¬¡**: ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ç›£æŸ»ï¼ˆå¤–éƒ¨ï¼‰

---

## ğŸ’° ã‚³ã‚¹ãƒˆè©¦ç®—

### MCPåˆ©ç”¨æ–™ï¼ˆæœˆé¡ï¼‰

| ã‚µãƒ¼ãƒ“ã‚¹ | ãƒ—ãƒ©ãƒ³ | æ–™é‡‘ | å‚™è€ƒ |
|---------|--------|------|------|
| GitHub | Team | $4/user | æ—¢å­˜å¥‘ç´„ |
| Linear | Standard | $8/user | æ—¢å­˜å¥‘ç´„ |
| Sentry | Team | $26/month | æ–°è¦å°å…¥ |
| Playwright | - | ç„¡æ–™ | OSS |
| axe | - | ç„¡æ–™ | OSS |
| Lighthouse | - | ç„¡æ–™ | Googleæä¾› |

**ç·é¡**: ç´„$35/æœˆï¼ˆSentryåˆ†ã®ã¿æ–°è¦ï¼‰

### å·¥æ•°ã‚³ã‚¹ãƒˆ

| Phase | å·¥æ•° | å˜ä¾¡ | ã‚³ã‚¹ãƒˆ |
|-------|------|------|--------|
| Phase 1 | 40h | Â¥5,000/h | Â¥200,000 |
| Phase 2 | 60h | Â¥5,000/h | Â¥300,000 |
| Phase 3 | 32h | Â¥5,000/h | Â¥160,000 |

**ç·é¡**: Â¥660,000ï¼ˆç´„7é€±é–“ï¼‰

### ROIï¼ˆæŠ•è³‡å¯¾åŠ¹æœï¼‰

**ç¾çŠ¶ï¼ˆå¹´é–“ï¼‰**:
- ãƒã‚°ä¿®æ­£å·¥æ•°: 200h Ã— Â¥5,000/h = Â¥1,000,000
- æœ¬ç•ªéšœå®³å¯¾å¿œ: 50h Ã— Â¥10,000/h = Â¥500,000
- æ‰‹å‹•ãƒ†ã‚¹ãƒˆ: 100h Ã— Â¥5,000/h = Â¥500,000

**å‰Šæ¸›åŠ¹æœï¼ˆå¹´é–“ï¼‰**:
- ãƒã‚°ä¿®æ­£å·¥æ•°: -50% â†’ Â¥500,000å‰Šæ¸›
- æœ¬ç•ªéšœå®³å¯¾å¿œ: -70% â†’ Â¥350,000å‰Šæ¸›
- æ‰‹å‹•ãƒ†ã‚¹ãƒˆ: -80% â†’ Â¥400,000å‰Šæ¸›

**å¹´é–“å‰Šæ¸›é¡**: Â¥1,250,000  
**ROI**: (Â¥1,250,000 - Â¥660,000) / Â¥660,000 = **89%**  
**å›åæœŸé–“**: ç´„6ãƒ¶æœˆ

---

## ğŸ“Š KPIè¨­å®š

### ãƒ†ã‚¹ãƒˆè‡ªå‹•åŒ–

| æŒ‡æ¨™ | ç¾çŠ¶ | ç›®æ¨™ï¼ˆPhase 1ï¼‰ | ç›®æ¨™ï¼ˆPhase 2ï¼‰ | ç›®æ¨™ï¼ˆPhase 3ï¼‰ |
|------|------|----------------|----------------|----------------|
| **ãƒ†ã‚¹ãƒˆã‚«ãƒãƒ¬ãƒƒã‚¸** | 85% | 90% | 95% | 95% |
| **E2Eã‚«ãƒãƒ¬ãƒƒã‚¸** | 0% | - | 80% | 80% |
| **ãƒ†ã‚¹ãƒˆå®Ÿè¡Œæ™‚é–“** | - | <10åˆ† | <15åˆ† | <15åˆ† |
| **PRè‡ªå‹•ãƒ†ã‚¹ãƒˆç‡** | 0% | 100% | 100% | 100% |

### å“è³ªã‚²ãƒ¼ãƒˆ

| æŒ‡æ¨™ | ç¾çŠ¶ | ç›®æ¨™ï¼ˆPhase 2ï¼‰ |
|------|------|----------------|
| **Performance Score** | æœªè¨ˆæ¸¬ | â‰¥90 |
| **a11yé•å** | æœªè¨ˆæ¸¬ | 0ä»¶ |
| **ãƒãƒ³ãƒ‰ãƒ«ã‚µã‚¤ã‚º** | æœªè¨ˆæ¸¬ | <500KB |

### é‹ç”¨ç›£è¦–

| æŒ‡æ¨™ | ç¾çŠ¶ | ç›®æ¨™ï¼ˆPhase 3ï¼‰ |
|------|------|----------------|
| **MTTRï¼ˆå¹³å‡å¾©æ—§æ™‚é–“ï¼‰** | - | <30åˆ† |
| **éšœå®³æ¤œçŸ¥æ™‚é–“** | - | <5åˆ† |
| **è‡ªå‹•èµ·ç¥¨ç‡** | 0% | 100% |

---

## âœ… æ‰¿èªãƒ•ãƒ­ãƒ¼

### Phase 1é–‹å§‹å‰ï¼ˆå¿…é ˆï¼‰

- [ ] ãƒ¦ãƒ¼ã‚¶ãƒ¼æ‰¿èª
- [ ] GitHub Actionsã®æœ‰åŠ¹åŒ–ç¢ºèª
- [ ] GitHub/Linear APIãƒˆãƒ¼ã‚¯ãƒ³ç™ºè¡Œ
- [ ] ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒãƒªã‚·ãƒ¼ãƒ¬ãƒ“ãƒ¥ãƒ¼

### Phase 2é–‹å§‹å‰

- [ ] Phase 1ã®å‹•ä½œç¢ºèªå®Œäº†
- [ ] Playwrightå‹•ä½œç’°å¢ƒç¢ºèª
- [ ] å“è³ªã‚²ãƒ¼ãƒˆé–¾å€¤ã®åˆæ„

### Phase 3é–‹å§‹å‰

- [ ] Phase 2ã®å‹•ä½œç¢ºèªå®Œäº†
- [ ] Sentryã‚¢ã‚«ã‚¦ãƒ³ãƒˆä½œæˆ
- [ ] é‹ç”¨ä½“åˆ¶ã®åˆæ„

---

## ğŸ¯ æ¨å¥¨ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ï¼ˆå³åº§ã«å®Ÿè¡Œå¯èƒ½ï¼‰

### ä»Šã™ãã§ãã‚‹ã“ã¨

```bash
# 1. Cursor commandsè¨­å®š
mkdir -p .cursor
cat > .cursor/commands.json << 'EOF'
{
  "test": "npm test",
  "lint-fix": "npm run lint:fix",
  "test-coverage": "npm test -- --coverage"
}
EOF

# 2. MCP Inspectorå°å…¥ï¼ˆå‹•ä½œç¢ºèªç”¨ï¼‰
npm install -g @modelcontextprotocol/inspector
mcp-inspector

# 3. GitHub Actions ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆä½œæˆ
mkdir -p .github/workflows
# â€» ä¸Šè¨˜ã®test.ymlã‚’ä½œæˆ
```

### 1é€±é–“ä»¥å†…ã«å®Ÿæ–½

1. âœ… Phase 1åŸºç›¤æ•´å‚™ã®æ‰¿èª
2. âœ… GitHub/Linear APIãƒˆãƒ¼ã‚¯ãƒ³ç™ºè¡Œ
3. âœ… GitHub Actionsæœ‰åŠ¹åŒ–
4. âœ… MCP Inspectorå‹•ä½œç¢ºèª

---

## ğŸ“ çµè«–

### æ¨å¥¨åº¦: â­â­â­â­â­ï¼ˆæœ€é«˜ï¼‰

**ç†ç”±**:
1. **ROI 89%** - 6ãƒ¶æœˆã§æŠ•è³‡å›å
2. **å“è³ªå‘ä¸Š** - ãƒ†ã‚¹ãƒˆã‚«ãƒãƒ¬ãƒƒã‚¸95%ã€a11yé•å0ä»¶
3. **é‹ç”¨åŠ¹ç‡åŒ–** - è‡ªå‹•ãƒ†ã‚¹ãƒˆãƒ»è‡ªå‹•èµ·ç¥¨ã§å¹´é–“350æ™‚é–“å‰Šæ¸›
4. **ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£å¼·åŒ–** - æœ€å°æ¨©é™ãƒ»OAuthãƒ»å®šæœŸç›£æŸ»

### å³åº§ã«é–‹å§‹ã™ã¹ãç†ç”±

- âœ… æ—¢ã«QOS v1æº–æ‹ ã§åŸºç›¤ã‚ã‚Š
- âœ… æ—¢ã«Linearçµ±åˆæ¸ˆã¿
- âœ… æ—¢ã«127ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ä½œæˆæ¸ˆã¿ï¼ˆæ¨©é™ç®¡ç†ï¼‰
- âœ… æ¨™æº–åŒ–ã•ã‚ŒãŸSSOä½“åˆ¶
- âš ï¸ CI/CDæœªæ•´å‚™ï¼ˆæ—©æ€¥ã«å¿…è¦ï¼‰
- âš ï¸ æœ¬ç•ªç›£è¦–ãªã—ï¼ˆãƒªã‚¹ã‚¯å¤§ï¼‰

### å„ªå…ˆé †ä½

1. **Phase 1ï¼ˆæœ€å„ªå…ˆï¼‰**: GitHub Actions + GitHub/Linear MCP
2. **Phase 2ï¼ˆé«˜å„ªå…ˆï¼‰**: Playwright E2E + å“è³ªã‚²ãƒ¼ãƒˆ
3. **Phase 3ï¼ˆä¸­å„ªå…ˆï¼‰**: Sentryé‹ç”¨ç›£è¦–

---

**æ‰¿èªå¾…ã¡**: Phase 1ã®å®Ÿè£…é–‹å§‹ã‚’æ¨å¥¨ã—ã¾ã™ã€‚  
**æ¬¡ã®ã‚¢ã‚¯ã‚·ãƒ§ãƒ³**: ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®æ‰¿èªå¾Œã€å³åº§ã«GitHub Actionsè¨­å®šã¨MCPå°å…¥ã‚’é–‹å§‹ã§ãã¾ã™ã€‚


