# 📋 プロンプトテンプレート使用ガイド

**最終更新**: 2025年11月7日  
**バージョン**: 1.0.0  
**目的**: 実装AIが100%意図通りに実装できるプロンプトを標準化

---

## 🎯 使い方

### タグを使用したプロンプト生成

```
>> prmt [タスクID]
```

**例**:
```
>> prmt COM-81
```

**動作**:
1. PlaneからタスクID（COM-81）を取得
2. タスクタイプを判定（UI/API/DB等）
3. 該当テンプレートを適用
4. タスク情報を反映
5. チャット内でプロンプト全文を出力

**重要**: プロンプトはファイル化せず、チャット内で出力します。

---

## 📚 テンプレート一覧

| テンプレート | 用途 | 適用条件 |
|-------------|------|---------|
| `UI_IMPLEMENTATION.md` | UI実装 | タスクに"[11] UI"等が含まれる |
| `API_IMPLEMENTATION.md` | API実装 | タスクに"[12] API"等が含まれる |
| `DB_MIGRATION.md` | DB Migration | タスクに"[13] DB"等が含まれる |
| `COMMON_SECTIONS.md` | 共通セクション | 全テンプレートで使用（Phase 0等） |

---

## 🏗️ テンプレートの構造

全てのテンプレートは以下の構造に従います：

```markdown
# [テンプレート名]

## Phase 0: 事前調査（必須・15分）
- 既存実装の確認
- ツール使用指示（find, ls, cat, grep）
- 完了報告テンプレート

## Phase 1-5: 段階的実装
- 各Phaseに具体的なツール使用指示
- チェックリスト
- 完了報告テンプレート

## エラー時の対処フロー
- よくあるエラーパターンと対処法

## 実装ガード（絶対禁止事項）
- 禁止パターンの明示

## 完了条件
- 受入基準
- 証跡提出物
```

---

## 📝 プロンプト作成の原則

### 必須要素（7項目）

1. **段階的な指示（Phase分割）**
   - Phase 0: 事前調査（必須）
   - Phase 1-5: 実装ステップ

2. **具体的なツール使用指示**
   - `find`, `ls`, `cat`, `grep`, `search_replace`, `write`
   - コマンド例を明記

3. **検証可能な成果物の指定**
   - ファイル一覧
   - チェックリスト

4. **エラー時の対処フロー明記**
   - 401/403/500エラー
   - 診断方法と対処法

5. **各タスク完了時の報告フォーマット**
   - Markdown形式のテンプレート

6. **実行するコマンドの明示**
   - `bash`ブロックで明示

7. **確認すべき項目のチェックリスト**
   - `[ ]` 形式

### 禁止事項

- ❌ 曖昧な表現（「適切に」「よしなに」等）
- ❌ プレースホルダー（「XXX」「...」等）
- ❌ ファイル一覧だけの指示
- ❌ ツール使用指示なし

---

## 🔄 テンプレートの更新

### 更新フロー

1. テンプレートに不足を発見
2. `TEMPLATE_GUIDE.md`を参照して改善案作成
3. ユーザーに提案
4. 承認後、テンプレート更新
5. バージョン番号を更新

### バージョン管理

- メジャー更新（1.0.0 → 2.0.0）: 構造変更
- マイナー更新（1.0.0 → 1.1.0）: セクション追加
- パッチ更新（1.0.0 → 1.0.1）: 誤字修正・例追加

---

## 📞 問い合わせ

テンプレートに不足や改善提案がある場合は、ユーザーに報告してください。

