# システム間連携ドキュメント

このディレクトリには、hotel-saas、hotel-pms、hotel-member、hotel-common間の連携に関するドキュメントが格納されています。

## ディレクトリ構成

### apis/
システム間API連携仕様
- REST API仕様
- GraphQL スキーマ
- 認証・認可方式
- エラーハンドリング

### events/
イベント駆動連携仕様
- イベント定義
- 発行・購読パターン
- メッセージフォーマット
- 配信保証

### data-flow/
データフロー設計
- データの流れ図
- データ変換仕様
- 同期・非同期処理
- データ整合性

### workflows/
業務フロー連携
- 予約フロー
- チェックイン/アウトフロー
- 請求フロー
- 顧客管理フロー

## 連携パターン

### 同期連携
- リアルタイムデータ取得
- 即座の応答が必要な処理
- 例: 在庫確認、認証処理

### 非同期連携
- バッチ処理
- 大量データ処理
- 例: レポート生成、データ分析

### イベント駆動連携
- 状態変更の通知
- 疎結合な連携
- 例: 予約確定通知、会員ランク更新

## 連携マトリックス

| From/To | hotel-saas | hotel-pms | hotel-member | hotel-common |
|---------|------------|-----------|--------------|--------------|
| **hotel-saas** | - | 予約参照 | 顧客情報参照 | 認証・UI |
| **hotel-pms** | 在庫通知 | - | 顧客情報更新 | 認証・DB |
| **hotel-member** | 会員情報 | 顧客マスタ | - | 認証・DB |
| **hotel-common** | 基盤提供 | 基盤提供 | 基盤提供 | - |

## 利用方法

1. 新しい連携を追加する場合は、該当するディレクトリに仕様書を作成
2. 既存連携を変更する場合は、影響範囲を調査してから更新
3. 全ての連携変更は、関連システムの担当AIのレビューが必要

## 品質保証

- API仕様書は OpenAPI 3.0 形式で記述
- イベント仕様書は AsyncAPI 形式で記述
- 連携テストは自動化を推進
- パフォーマンステストを定期実行

---
最終更新: 2025年1月18日
