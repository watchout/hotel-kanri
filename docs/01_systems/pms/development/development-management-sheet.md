# 🌙 Tsukuyomi PMS 開発工程管理シート

## 📋 プロジェクト概要

**プロジェクト名**: UI実装仕様書に基づくPMS機能拡張  
**担当AI**: 🌙 Luna (Tsukuyomi) - フロント業務・予約管理・オペレーション効率担当  
**実装期間**: 20週間（約5ヶ月）  
**総工数**: 86人日（リスク調整後：100人日）  
**品質保証**: Iza統合管理者による技術チェック完了済み

---

## 🎯 開発方針・制約事項

### **開発方針**
- **フロント業務効率化最優先** - 現場に直結する機能から実装
- **段階的統合** - 既存機能を壊さずに新機能を追加
- **品質重視** - 各フェーズでの動作確認・統合テスト必須

### **技術制約**
- **技術スタック**: Vue 3 + TypeScript + Pinia（変更不可）
- **認証基盤**: hotel-common JWT + PIN統合（調整済み）
- **タッチパネル対応**: 44px以上ボタン必須
- **統合連携**: hotel-saas/hotel-member/Event-driven対応

### **統合調整事項**
- ⚠️ **Walk-in客対応**: hotel-member予約システム連携調整
- ⚠️ **団体予約**: hotel-member会員システム統合調整

---

## 📅 フェーズ別開発スケジュール

### **Phase 1: フロント画面強化（最高優先度）** [Week 1-3]
**期間**: 3週間 | **工数**: 15人日 | **完了条件**: リアルタイム予約管理完成

| 週 | タスクID | タスク内容 | 工数 | 成果物 | 責任者 |
|---|---|---|---|---|---|
| 1 | phase1-realtime-reservations | リアルタイム予約一覧実装 | 5人日 | 予約データAPI連携・リアルタイム更新UI | Luna |
| 2 | phase1-member-integration | hotel-member顧客情報統合 | 6人日 | API連携・顧客データ表示・会員情報同期 | Luna |
| 3 | phase1-event-driven-base | Event-driven更新基盤 | 4人日 | WebSocket/EventSource・リアルタイム同期 | Luna |

**完了判定基準**:
- [ ] 予約一覧がリアルタイムで更新される
- [ ] hotel-member顧客情報が正常に表示される
- [ ] Event-driven更新が安定動作する
- [ ] 既存チェックイン機能と統合される

---

### **Phase 2: hotel-saas統合（高優先度）** [Week 4-7]
**期間**: 4週間 | **工数**: 20人日 | **完了条件**: AIコンシェルジュ完全統合

| 週 | タスクID | タスク内容 | 工数 | 成果物 | 責任者 |
|---|---|---|---|---|---|
| 4 | phase2-ai-concierge | AIコンシェルジュAPI統合 | 8人日 | hotel-saas API連携・AI提案取得・レコメンド表示 | Luna |
| 5-6 | phase2-ai-suggestions-ui | リアルタイムAI提案UI | 7人日 | AI提案表示コンポーネント・ユーザーインタラクション | Luna |
| 7 | phase2-saas-composables | hotel-saas連携composables実装 | 5人日 | 統合用Vue composables・エラーハンドリング | Luna |

**完了判定基準**:
- [ ] AIコンシェルジュがリアルタイムで提案を表示する
- [ ] hotel-saasとの連携が安定動作する
- [ ] 管理画面にAI機能が統合される
- [ ] エラーハンドリングが適切に動作する

---

### **Phase 3: キャスト画面・団体予約（中優先度）** [Week 8-11]
**期間**: 4週間 | **工数**: 18人日 | **完了条件**: キャスト機能・団体予約完成

| 週 | タスクID | タスク内容 | 工数 | 成果物 | 責任者 |
|---|---|---|---|---|---|
| 8-9 | phase3-cast-dashboard | キャスト専用画面作成 | 8人日 | キャスト向けUI・勤怠連携・通知パネル | Luna |
| 10 | phase3-group-reservations | 団体予約hotel-member統合 | 7人日 | 団体予約処理・会員連携・グループチェックイン | Luna |
| 11 | phase3-system-notifications | システム間通知統合 | 3人日 | 通知システム・アラート管理・優先度制御 | Luna |

**完了判定基準**:
- [ ] キャスト専用画面が稼働する
- [ ] 団体予約がhotel-memberと連携する
- [ ] システム間通知が正常に動作する
- [ ] 権限制御が適切に機能する

---

### **Phase 4: API統合基盤（基盤工事）** [Week 12-17]
**期間**: 6週間 | **工数**: 25人日 | **完了条件**: 統合基盤完成

| 週 | タスクID | タスク内容 | 工数 | 成果物 | 責任者 |
|---|---|---|---|---|---|
| 12-14 | phase4-common-api | hotel-common RESTful API統合 | 12人日 | 共通API基盤・認証統合・データ形式標準化 | Luna + Iza |
| 15-16 | phase4-event-driven-advanced | Event-driven連携基盤 | 8人日 | Pub/Sub実装・イベントキュー・障害復旧機能 | Luna + Iza |
| 17 | phase4-sqlite-migration | 既存SQLiteからAPI移行 | 5人日 | データ移行・API切り替え・動作検証 | Luna |

**完了判定基準**:
- [ ] hotel-common APIとの統合が完了する
- [ ] Event-driven連携が安定動作する
- [ ] データ移行が正常に完了する
- [ ] 統合テストが成功する

---

### **Phase 5: リネン画面（低優先度）** [Week 18-20]
**期間**: 3週間 | **工数**: 8人日 | **完了条件**: リネン管理完成

| 週 | タスクID | タスク内容 | 工数 | 成果物 | 責任者 |
|---|---|---|---|---|---|
| 18-19 | phase5-linen-features | リネン管理独立機能 | 5人日 | リネン状態管理・在庫管理・利用履歴 | Luna |
| 20 | phase5-cleaning-schedule | 清掃スケジュール機能 | 3人日 | 清掃予定管理・進捗追跡・完了報告 | Luna |

**完了判定基準**:
- [ ] リネン管理が独立して動作する
- [ ] 清掃スケジュール機能が稼働する
- [ ] 他システムとの統合への影響がない

---

## 🔍 品質保証・進捗管理

### **品質保証プロセス**
1. **開発前**: 要件確認・設計レビュー
2. **開発中**: コードレビュー・単体テスト
3. **開発後**: 統合テスト・動作確認
4. **完了時**: Iza技術チェック・承認

### **進捗管理ルール**
- **週次報告**: 毎週金曜日に進捗・課題・次週計画を報告
- **マイルストーン**: 各フェーズ完了時に成果物確認
- **課題管理**: 課題発生時は24時間以内にエスカレーション
- **品質管理**: 各フェーズで動作確認・テスト実施

### **リスク管理**
| リスク項目 | 影響度 | 対策 |
|---|---|---|
| hotel-common API仕様変更 | 高 | Iza連携による早期情報収集 |
| 統合テスト時の不具合 | 中 | 段階的統合・テスト環境整備 |
| 3システム間の連携遅延 | 中 | 各AI担当者との定期連携 |
| 既存機能への影響 | 低 | 段階的実装・ロールバック準備 |

---

## 📊 成果指標・評価基準

### **技術的成果指標**
- [ ] フロント業務効率20%向上
- [ ] リアルタイム同期遅延1秒以内
- [ ] AI提案精度80%以上
- [ ] システム統合エラー率1%以下

### **運用的成果指標**
- [ ] チェックイン処理時間50%短縮
- [ ] 顧客情報確認工数80%削減
- [ ] キャスト勤怠管理工数60%削減
- [ ] 管理業務効率30%向上

---

## 🎯 次のアクション

### **即座実行事項（今週）**
1. **Phase 1.1開始**: リアルタイム予約一覧実装開始
2. **hotel-member API仕様確認**: 顧客情報統合の詳細設計
3. **Event-driven基盤調査**: WebSocket/EventSource実装方針決定

### **来週準備事項**
1. **hotel-saas連携仕様確認**: AIコンシェルジュAPI詳細調査
2. **統合テスト環境準備**: 3システム連携テスト環境構築
3. **キャスト画面要件整理**: キャスト専用機能詳細設計

---

**作成者**: 🌙 Luna (Tsukuyomi PMS担当AI)  
**作成日**: 2025-01-18  
**最終更新**: 2025-01-18  
**管理責任者**: 🌊 Iza (統合管理者) 