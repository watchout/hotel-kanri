# ドキュメント管理アーキテクチャの決定

**Doc-ID**: ADR-2025-001
**Version**: 1.0
**Status**: Active
**Owner**: 金子裕司
**Linked-Docs**: SPEC-2025-001

---

## 📋 **決定事項**

hotel-saasプロジェクトにおいて、統一的なドキュメント管理システムを導入し、5カテゴリ分類（specs/adr/minutes/release/summary）による体系的な情報管理を実施する。

## 🎯 **背景・課題**

### **現状の問題**
- ドキュメントが散在（66個のfeatures/、34個のmigration/等）
- 命名規則が不統一
- 関連性が不明確
- 古い情報と新しい情報の区別が困難
- 技術判断の経緯が追跡困難

### **解決すべき課題**
1. **情報の散在**: 関連情報が複数ディレクトリに分散
2. **バージョン管理**: 同一トピックの複数バージョンが混在
3. **関連性の不明確**: ドキュメント間の依存関係が不明
4. **進捗の不透明**: プロジェクト全体の進捗が把握困難

## 🏗️ **アーキテクチャ決定**

### **1. 分類体系の採用**
```
specs/    - 要件・設計・技術仕様
adr/      - アーキテクチャ・技術判断記録
minutes/  - 議論・会議記録
release/  - 実装成果・リリース記録
summary/  - 定期的な進捗サマリ
```

**理由**: 情報の性質による明確な分類で検索性・保守性を向上

### **2. Doc-ID体系の導入**
- **Format**: `[CATEGORY]-YYYY-NNN`
- **例**: `SPEC-2025-001`, `ADR-2025-001`

**理由**: 一意識別子による確実な参照・リンク管理

### **3. Linked-Docs管理**
- 全ドキュメントに関連Doc-IDを明記
- 双方向リンクの維持
- リンク切れの自動検出

**理由**: ドキュメント間の関係性を明確化し、整合性を保証

### **4. バージョン管理戦略**
- **ファイル名**: `YYYY-MM-DD_topic.vX.md`
- **Status管理**: Draft → Active → Superseded → Archived
- **旧バージョン保持**: Supersededとして履歴保持

**理由**: 変更履歴の追跡と、過去の判断根拠の保持

## 🔄 **実装方針**

### **移行戦略**
1. **段階的移行**: 重要度の高いドキュメントから順次移行
2. **既存保持**: legacy/ディレクトリで既存ドキュメントを保持
3. **リンク更新**: 新体系への参照を段階的に更新

### **自動化要素**
- Doc-ID重複チェック
- Linked-Docs整合性チェック
- 週次Summary生成支援
- Status更新の自動化

## ⚖️ **代替案との比較**

### **検討した代替案**

#### **案A: 既存構造の維持**
- **メリット**: 変更コストなし
- **デメリット**: 現状の問題が継続
- **判定**: ❌ 長期的な保守性に問題

#### **案B: 完全なWiki化**
- **メリット**: 柔軟な構造
- **デメリット**: 構造化されていない、検索困難
- **判定**: ❌ プロジェクト管理には不適

#### **案C: 提案システム（採用）**
- **メリット**: 構造化、検索性、保守性
- **デメリット**: 移行コスト
- **判定**: ✅ 長期的な効率性を重視

## 📊 **成功指標**

### **短期指標（1ヶ月）**
- [ ] 新ドキュメントの100%が新形式準拠
- [ ] 重要ドキュメント50%の移行完了
- [ ] Doc-ID重複ゼロ

### **中期指標（3ヶ月）**
- [ ] 全アクティブドキュメントの移行完了
- [ ] Linked-Docs整合性95%以上
- [ ] 週次Summary継続率100%

### **長期指標（6ヶ月）**
- [ ] ドキュメント検索時間50%短縮
- [ ] 新メンバーオンボーディング時間30%短縮
- [ ] 技術判断の追跡可能率100%

## 🚨 **リスク・対策**

### **移行リスク**
- **リスク**: 既存リンクの切れ
- **対策**: 段階的移行とリダイレクト設定

### **運用リスク**
- **リスク**: 新ルールの定着不足
- **対策**: テンプレート提供と定期レビュー

### **保守リスク**
- **リスク**: Linked-Docs管理の負荷
- **対策**: 自動チェックツールの導入

## 🎊 **結論**

hotel-saasプロジェクトの持続的な成長と効率的な開発を実現するため、提案されたドキュメント管理アーキテクチャを採用する。段階的な移行により既存の開発を阻害することなく、長期的な保守性と検索性を確保する。
