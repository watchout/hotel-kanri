# AIé§†å‹•é–‹ç™ºãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ - æ®‹ã‚¿ã‚¹ã‚¯ä¸€è¦§

**æœ€çµ‚æ›´æ–°**: 2026-01-17  
**ç›®çš„**: å®Œå…¨è‡ªå‹•åŒ–ã«å¿…è¦ãªæ®‹ä½œæ¥­ã®å¯è¦–åŒ–

---

## ğŸ“Š å®Œæˆåº¦ã‚µãƒãƒªãƒ¼

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Stage 1: SSOTç”Ÿæˆ          [â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ] 100% âœ… å®Œæˆ            â”‚
â”‚ Stage 2: ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆç”Ÿæˆ    [â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘]   0%                    â”‚
â”‚ Stage 3: ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆç›£æŸ»    [â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘]   0%                    â”‚
â”‚ Stage 4: ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆä¿®æ­£    [â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘]   0%                    â”‚
â”‚ Stage 5: ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆå®Œæˆ    [â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘]   0%                    â”‚
â”‚ Stage 6: å®Ÿè£…(Claude/Codex)[â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘]   0%                    â”‚
â”‚ Stage 7: å®Ÿè£…ç›£æŸ»          [â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘]   0%                    â”‚
â”‚ Stage 8: è‡ªå‹•ä¿®æ­£          [â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘]   0%                    â”‚
â”‚ Stage 9: ãƒ†ã‚¹ãƒˆ            [â–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘]  20% (æ¨™æº–ãƒ†ã‚¹ãƒˆã‚ã‚Š)   â”‚
â”‚ Stage 10: PR/CI            [â–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘]  40% (CIä¸€éƒ¨ã‚ã‚Š)       â”‚
â”‚ Stage 11: ãƒãƒ¼ã‚¸           [â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘]   0%                    â”‚
â”‚ Stage 12: Planeæ›´æ–°        [â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘]  60% (APIé€£æºã‚ã‚Š)      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ å…¨ä½“å®Œæˆåº¦: 18%                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ¯ Phase 1: ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆè‡ªå‹•ç”Ÿæˆï¼ˆå„ªå…ˆåº¦ï¼šæœ€é«˜ï¼‰

**ç›®æ¨™**: SSOTã‚’èª­ã¿è¾¼ã¿ã€å®Ÿè£…ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚’è‡ªå‹•ç”Ÿæˆ

### Task 1-1: SSOTè§£æã‚¨ãƒ³ã‚¸ãƒ³
**å·¥æ•°**: 2æ—¥

```javascript
// å…¥åŠ›: SSOT_FEATURE.md
// å‡ºåŠ›: æ§‹é€ åŒ–ãƒ‡ãƒ¼ã‚¿
{
  requirements: [
    { id: 'HDF-001', type: 'FR', description: '...', accept: [...] },
    { id: 'HDF-100', type: 'NFR', description: '...', accept: [...] }
  ],
  api: [
    { method: 'POST', path: '/api/v1/handoff/requests', description: '...' }
  ],
  database: [
    { table: 'handoff_requests', columns: [...] }
  ],
  ui: [
    { page: '/handoff', components: [...] }
  ]
}
```

**å®Ÿè£…å†…å®¹**:
- [ ] Markdownãƒ‘ãƒ¼ã‚µãƒ¼ï¼ˆmarked + ã‚«ã‚¹ã‚¿ãƒ æ‹¡å¼µï¼‰
- [ ] è¦ä»¶IDæŠ½å‡ºï¼ˆæ­£è¦è¡¨ç¾ï¼‰
- [ ] Acceptæ¡ä»¶æŠ½å‡º
- [ ] APIä»•æ§˜æŠ½å‡º
- [ ] DBè¨­è¨ˆæŠ½å‡º
- [ ] UIè¦ä»¶æŠ½å‡º

---

### Task 1-2: ã‚¿ã‚¹ã‚¯ç¨®åˆ¥åˆ¤å®šãƒ­ã‚¸ãƒƒã‚¯
**å·¥æ•°**: 1æ—¥

```javascript
function classifyTask(ssotData) {
  const indicators = {
    api: ssotData.api.length > 0,
    database: ssotData.database.length > 0,
    ui: ssotData.ui.length > 0
  };
  
  if (indicators.api && indicators.ui) return 'fullstack';
  if (indicators.ui) return 'ui-only';
  if (indicators.api) return 'api-only';
  return 'logic';
}
```

**å®Ÿè£…å†…å®¹**:
- [ ] API/DB/UIåˆ¤å®š
- [ ] Claude Code / Codex æŒ¯ã‚Šåˆ†ã‘
- [ ] Full Stackæ™‚ã®åˆ†å‰²ãƒã‚¤ãƒ³ãƒˆç‰¹å®š

---

### Task 1-3: ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆè¨­è¨ˆ
**å·¥æ•°**: 2æ—¥

**ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆç¨®åˆ¥**:
- [ ] `backend-api.template.md` - APIå®Ÿè£…ç”¨
- [ ] `backend-db.template.md` - DB/Prismaç”¨
- [ ] `frontend-page.template.md` - ãƒšãƒ¼ã‚¸å®Ÿè£…ç”¨
- [ ] `frontend-component.template.md` - ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆç”¨
- [ ] `fullstack.template.md` - çµ±åˆç”¨

**ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆæ§‹é€ **:
```markdown
## å¿…èª­SSOT
{{SSOT_PATH}}

## å®Ÿè£…å¯¾è±¡
{{REQUIREMENTS_LIST}}

## Item 1: {{STEP_NAME}}
### Step 1: {{ACTION}}
{{INSTRUCTIONS}}

### å®Œäº†æ¡ä»¶
{{ACCEPT_CONDITIONS}}

## Evidenceå–å¾—
{{EVIDENCE_INSTRUCTIONS}}
```

---

### Task 1-4: ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆç”Ÿæˆã‚¹ã‚¯ãƒªãƒ—ãƒˆ
**å·¥æ•°**: 2æ—¥

```javascript
// scripts/prompt-generator/generate-prompt.cjs
async function generatePrompt(taskId, ssotPath) {
  // 1. SSOTèª­ã¿è¾¼ã¿ãƒ»è§£æ
  const ssotData = await parseSSOT(ssotPath);
  
  // 2. ã‚¿ã‚¹ã‚¯ç¨®åˆ¥åˆ¤å®š
  const taskType = classifyTask(ssotData);
  
  // 3. ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆé¸æŠ
  const templates = selectTemplates(taskType);
  
  // 4. ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆç”Ÿæˆ
  const prompts = templates.map(t => 
    applyTemplate(t, ssotData)
  );
  
  // 5. ä¿å­˜
  await savePrompts(taskId, prompts);
  
  return prompts;
}
```

**å®Ÿè£…å†…å®¹**:
- [ ] CLIã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹
- [ ] ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚¨ãƒ³ã‚¸ãƒ³
- [ ] å¤‰æ•°å±•é–‹
- [ ] å‡ºåŠ›ãƒ•ã‚¡ã‚¤ãƒ«ç®¡ç†

---

## ğŸ” Phase 2: ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆç›£æŸ»ï¼ˆå„ªå…ˆåº¦ï¼šé«˜ï¼‰

**ç›®æ¨™**: 3ã¤ã®LLMã§ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆå“è³ªã‚’æ¤œè¨¼

### Task 2-1: ç›£æŸ»ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆè¨­è¨ˆ
**å·¥æ•°**: 1æ—¥

```javascript
const AUDIT_PROMPTS = {
  ssotCompliance: `
    ä»¥ä¸‹ã®ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆãŒSSOTã«æº–æ‹ ã—ã¦ã„ã‚‹ã‹æ¤œè¨¼ã—ã¦ãã ã•ã„ã€‚
    
    ## SSOT
    {{SSOT_CONTENT}}
    
    ## ç”Ÿæˆã•ã‚ŒãŸãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ
    {{PROMPT_CONTENT}}
    
    ## ãƒã‚§ãƒƒã‚¯é …ç›®
    - [ ] å…¨ã¦ã®è¦ä»¶IDãŒå«ã¾ã‚Œã¦ã„ã‚‹ã‹
    - [ ] Acceptæ¡ä»¶ãŒæ˜ç¢ºã‹
    - [ ] ãƒ•ã‚¡ã‚¤ãƒ«ãƒ‘ã‚¹ãŒå®Ÿåœ¨ã™ã‚‹ã‹
    ...
  `,
  security: `...`,
  uxOps: `...`
};
```

---

### Task 2-2: ãƒãƒ«ãƒLLMç›£æŸ»ã‚¨ãƒ³ã‚¸ãƒ³
**å·¥æ•°**: 2æ—¥

```javascript
async function auditPrompt(prompt, ssot) {
  const auditors = [
    { name: 'SSOT Compliance', model: 'claude-opus', prompt: AUDIT_PROMPTS.ssotCompliance },
    { name: 'Security', model: 'gpt-4o', prompt: AUDIT_PROMPTS.security },
    { name: 'UX/Ops', model: 'claude-sonnet', prompt: AUDIT_PROMPTS.uxOps }
  ];
  
  const results = await Promise.all(
    auditors.map(a => runAudit(a, prompt, ssot))
  );
  
  return aggregateResults(results);
}
```

---

### Task 2-3: ç›£æŸ»ã‚¹ã‚³ã‚¢è¨ˆç®—ãƒ­ã‚¸ãƒƒã‚¯
**å·¥æ•°**: 1æ—¥

```javascript
function calculateAuditScore(results) {
  const weights = {
    ssotCompliance: 0.5,  // 50%
    security: 0.3,        // 30%
    uxOps: 0.2            // 20%
  };
  
  let totalScore = 0;
  for (const [key, result] of Object.entries(results)) {
    totalScore += result.score * weights[key];
  }
  
  return {
    score: Math.round(totalScore),
    passed: totalScore >= 80,
    details: results
  };
}
```

---

### Task 2-4: è‡ªå‹•ä¿®æ­£ãƒ«ãƒ¼ãƒ—
**å·¥æ•°**: 2æ—¥

```javascript
async function auditAndFixLoop(prompt, ssot, maxIterations = 3) {
  let currentPrompt = prompt;
  let iteration = 0;
  
  while (iteration < maxIterations) {
    const auditResult = await auditPrompt(currentPrompt, ssot);
    
    if (auditResult.passed) {
      return { success: true, prompt: currentPrompt, iterations: iteration };
    }
    
    // ä¿®æ­£
    currentPrompt = await fixPrompt(currentPrompt, auditResult);
    iteration++;
  }
  
  // 3å›å¤±æ•— â†’ äººé–“ã‚¨ã‚¹ã‚«ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³
  return { success: false, prompt: currentPrompt, requiresHumanReview: true };
}
```

---

## ğŸ”§ Phase 3: å®Ÿè£…è‡ªå‹•åŒ–ï¼ˆå„ªå…ˆåº¦ï¼šé«˜ï¼‰

**ç›®æ¨™**: Claude Code / Codex ã§è‡ªå‹•å®Ÿè£…

### Task 3-1: Claude Codeé€£æºï¼ˆãƒ˜ãƒƒãƒ‰ãƒ¬ã‚¹ãƒ¢ãƒ¼ãƒ‰ï¼‰
**å·¥æ•°**: 2æ—¥

**é‡è¦**: Claude Codeã¯**ãƒ˜ãƒƒãƒ‰ãƒ¬ã‚¹ãƒ¢ãƒ¼ãƒ‰**ã§è‡ªå‹•åŒ–å®Ÿè¡Œå¯èƒ½

```bash
# ãƒ˜ãƒƒãƒ‰ãƒ¬ã‚¹ãƒ¢ãƒ¼ãƒ‰ï¼ˆè‡ªå‹•åŒ–å‘ã‘ï¼‰
claude -p "ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆå†…å®¹" --print --output-format json

# ãƒ•ã‚¡ã‚¤ãƒ«ã‹ã‚‰ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆèª­ã¿è¾¼ã¿
claude -p "$(cat prompts/DEV-0171/implementation.md)" --print

# ä½œæ¥­ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæŒ‡å®š
cd /path/to/project && claude -p "$(cat prompt.md)" --print
```

```javascript
const { execSync, spawn } = require('child_process');
const path = require('path');

async function runClaudeCode(promptPath, workingDir, options = {}) {
  const prompt = fs.readFileSync(promptPath, 'utf-8');
  
  // ãƒ˜ãƒƒãƒ‰ãƒ¬ã‚¹ãƒ¢ãƒ¼ãƒ‰ã§å®Ÿè¡Œ
  const result = execSync(
    `claude -p "${prompt.replace(/"/g, '\\"')}" --print --output-format json`,
    {
      cwd: workingDir,
      encoding: 'utf-8',
      timeout: options.timeout || 600000, // 10åˆ†
      maxBuffer: 50 * 1024 * 1024 // 50MB
    }
  );
  
  return JSON.parse(result);
}

// ã‚¹ãƒˆãƒªãƒ¼ãƒŸãƒ³ã‚°ç‰ˆï¼ˆé•·æ™‚é–“ã‚¿ã‚¹ã‚¯ç”¨ï¼‰
async function runClaudeCodeStream(promptPath, workingDir, onOutput) {
  const prompt = fs.readFileSync(promptPath, 'utf-8');
  
  return new Promise((resolve, reject) => {
    const proc = spawn('claude', ['-p', prompt, '--print'], {
      cwd: workingDir,
      stdio: ['inherit', 'pipe', 'pipe']
    });
    
    let output = '';
    proc.stdout.on('data', (data) => {
      output += data.toString();
      onOutput?.(data.toString());
    });
    
    proc.on('close', (code) => {
      if (code === 0) resolve(output);
      else reject(new Error(`Claude Code exited with code ${code}`));
    });
  });
}
```

**å®Ÿè£…å†…å®¹**:
- [ ] ãƒ˜ãƒƒãƒ‰ãƒ¬ã‚¹ãƒ¢ãƒ¼ãƒ‰å‘¼ã³å‡ºã—
- [ ] ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚¨ã‚¹ã‚±ãƒ¼ãƒ—å‡¦ç†
- [ ] ã‚¹ãƒˆãƒªãƒ¼ãƒŸãƒ³ã‚°å‡ºåŠ›å¯¾å¿œ
- [ ] ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆç®¡ç†ï¼ˆ10åˆ†ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆï¼‰
- [ ] ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°
- [ ] å‡ºåŠ›ãƒ‘ãƒ¼ã‚¹ï¼ˆJSON/ãƒ†ã‚­ã‚¹ãƒˆï¼‰

---

### Task 3-2: Codexé€£æºï¼ˆUIç”¨ï¼‰
**å·¥æ•°**: 2æ—¥

```javascript
async function runCodex(promptPath, workingDir, designSystem) {
  const OpenAI = require('openai');
  const client = new OpenAI();
  
  const prompt = fs.readFileSync(promptPath, 'utf-8');
  
  // Codex APIå‘¼ã³å‡ºã—
  const response = await client.chat.completions.create({
    model: 'gpt-4o',  // Codexç›¸å½“
    messages: [
      { role: 'system', content: CODEX_SYSTEM_PROMPT },
      { role: 'user', content: prompt }
    ],
    tools: [{ type: 'code_interpreter' }]
  });
  
  return parseCodexOutput(response);
}
```

---

### Task 3-3: ã‚¿ã‚¹ã‚¯æŒ¯ã‚Šåˆ†ã‘ã‚ªãƒ¼ã‚±ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¿ãƒ¼
**å·¥æ•°**: 2æ—¥

```javascript
async function executeImplementation(taskId, prompts) {
  const results = {};
  
  for (const prompt of prompts) {
    if (prompt.target === 'backend') {
      results.backend = await runClaudeCode(
        prompt.path,
        './hotel-common-rebuild'
      );
    } else if (prompt.target === 'frontend') {
      results.frontend = await runCodex(
        prompt.path,
        './hotel-saas-rebuild',
        { framework: 'vue', ui: 'vuetify' }
      );
    }
  }
  
  return results;
}
```

---

### Task 3-4: å®Ÿè£…ç›£æŸ»ã‚¨ãƒ³ã‚¸ãƒ³
**å·¥æ•°**: 2æ—¥

```javascript
async function auditImplementation(changedFiles, ssot) {
  const auditors = [
    { name: 'SSOT Compliance', focus: 'requirement_coverage' },
    { name: 'Security', focus: 'vulnerabilities' },
    { name: 'Best Practice', focus: 'code_quality' }
  ];
  
  // å¤‰æ›´ãƒ•ã‚¡ã‚¤ãƒ«ã‚’èª­ã¿è¾¼ã‚“ã§ç›£æŸ»
  const fileContents = await readChangedFiles(changedFiles);
  
  return Promise.all(
    auditors.map(a => runCodeAudit(a, fileContents, ssot))
  );
}
```

---

## ğŸ§ª Phase 4: ãƒ†ã‚¹ãƒˆè‡ªå‹•åŒ–ï¼ˆå„ªå…ˆåº¦ï¼šä¸­ï¼‰

### Task 4-1: æ¨™æº–ãƒ†ã‚¹ãƒˆæ‹¡å¼µ
**å·¥æ•°**: 1æ—¥

**æ—¢å­˜**:
- `test-standard-admin.sh` âœ…
- `test-standard-guest.sh` âœ…

**è¿½åŠ **:
- [ ] `test-standard-integration.sh`
- [ ] `test-standard-e2e.sh`

---

### Task 4-2: ãƒ“ã‚¸ãƒ¥ã‚¢ãƒ«ãƒªã‚°ãƒ¬ãƒƒã‚·ãƒ§ãƒ³ãƒ†ã‚¹ãƒˆ
**å·¥æ•°**: 2æ—¥

```javascript
// Playwright + pixelmatch
async function runVisualTests(config) {
  const { chromium } = require('playwright');
  const browser = await chromium.launch();
  
  for (const page of config.pages) {
    for (const viewport of config.viewports) {
      const screenshot = await captureScreenshot(browser, page, viewport);
      const baseline = loadBaseline(page, viewport);
      
      if (baseline) {
        const diff = compareImages(baseline, screenshot);
        if (diff > config.threshold) {
          reportVisualDiff(page, viewport, diff);
        }
      } else {
        saveAsBaseline(page, viewport, screenshot);
      }
    }
  }
}
```

---

### Task 4-3: ãƒ†ã‚¹ãƒˆçµæœãƒ¬ãƒãƒ¼ã‚¿ãƒ¼
**å·¥æ•°**: 1æ—¥

```javascript
function generateTestReport(results) {
  return {
    summary: {
      total: results.length,
      passed: results.filter(r => r.passed).length,
      failed: results.filter(r => !r.passed).length
    },
    details: results,
    evidence: {
      screenshots: results.flatMap(r => r.screenshots || []),
      logs: results.flatMap(r => r.logs || [])
    }
  };
}
```

---

## ğŸš€ Phase 5: CI/CDé€£æºï¼ˆå„ªå…ˆåº¦ï¼šä¸­ï¼‰

### Task 5-1: PRè‡ªå‹•ä½œæˆ
**å·¥æ•°**: 1æ—¥

```javascript
async function createPR(taskId, changes) {
  const { execSync } = require('child_process');
  
  // ãƒ–ãƒ©ãƒ³ãƒä½œæˆ
  execSync(`git checkout -b feat/${taskId}`);
  
  // ã‚³ãƒŸãƒƒãƒˆ
  execSync(`git add -A`);
  execSync(`git commit -m "feat(${taskId}): Auto-generated implementation"`);
  
  // PRä½œæˆ
  const prUrl = execSync(`
    gh pr create \
      --title "[${taskId}] Auto-generated" \
      --body-file ${generatePRBody(taskId, changes)}
  `);
  
  return prUrl;
}
```

---

### Task 5-2: CIçµæœç›£è¦–
**å·¥æ•°**: 1æ—¥

```javascript
async function waitForCI(prNumber, timeout = 600) {
  const startTime = Date.now();
  
  while (Date.now() - startTime < timeout * 1000) {
    const status = await getCheckStatus(prNumber);
    
    if (status === 'success') return { passed: true };
    if (status === 'failure') return { passed: false, logs: await getCILogs(prNumber) };
    
    await sleep(30000); // 30ç§’å¾…æ©Ÿ
  }
  
  return { passed: false, timeout: true };
}
```

---

### Task 5-3: è‡ªå‹•ãƒãƒ¼ã‚¸åˆ¤å®š
**å·¥æ•°**: 1æ—¥

```javascript
async function autoMerge(prNumber, conditions) {
  const pr = await getPRDetails(prNumber);
  
  const canMerge = 
    pr.ciPassed &&
    pr.auditScore >= conditions.minAuditScore &&
    pr.testCoverage >= conditions.minCoverage &&
    !pr.hasSecurityIssues;
  
  if (canMerge) {
    await mergePR(prNumber, { method: 'squash' });
    return { merged: true };
  } else {
    await requestHumanReview(prNumber);
    return { merged: false, reason: 'Conditions not met' };
  }
}
```

---

### Task 5-4: Planeè‡ªå‹•æ›´æ–°
**å·¥æ•°**: 0.5æ—¥

```javascript
async function updatePlaneStatus(taskId, result) {
  const planeApi = require('./plane-api-client');
  
  if (result.merged) {
    await planeApi.updateIssue(taskId, {
      state: 'Done',
      comment: generateCompletionComment(result)
    });
  } else if (result.requiresHumanReview) {
    await planeApi.updateIssue(taskId, {
      state: 'In Review',
      comment: generateReviewComment(result)
    });
  }
}
```

---

## ğŸ“Š å…¨ã‚¿ã‚¹ã‚¯ã‚µãƒãƒªãƒ¼

### å·¥æ•°ä¸€è¦§

| Phase | ã‚¿ã‚¹ã‚¯ | å·¥æ•° | å„ªå…ˆåº¦ |
|:------|:-------|:-----|:-------|
| **Phase 1** | SSOTè§£æã‚¨ãƒ³ã‚¸ãƒ³ | 2æ—¥ | ğŸ”´ æœ€é«˜ |
| | ã‚¿ã‚¹ã‚¯ç¨®åˆ¥åˆ¤å®š | 1æ—¥ | ğŸ”´ æœ€é«˜ |
| | ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ | 2æ—¥ | ğŸ”´ æœ€é«˜ |
| | ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆç”Ÿæˆã‚¹ã‚¯ãƒªãƒ—ãƒˆ | 2æ—¥ | ğŸ”´ æœ€é«˜ |
| **Phase 2** | ç›£æŸ»ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆè¨­è¨ˆ | 1æ—¥ | ğŸŸ  é«˜ |
| | ãƒãƒ«ãƒLLMç›£æŸ»ã‚¨ãƒ³ã‚¸ãƒ³ | 2æ—¥ | ğŸŸ  é«˜ |
| | ç›£æŸ»ã‚¹ã‚³ã‚¢è¨ˆç®— | 1æ—¥ | ğŸŸ  é«˜ |
| | è‡ªå‹•ä¿®æ­£ãƒ«ãƒ¼ãƒ— | 2æ—¥ | ğŸŸ  é«˜ |
| **Phase 3** | Claude Codeé€£æº | 2æ—¥ | ğŸŸ  é«˜ |
| | Codexé€£æº | 2æ—¥ | ğŸŸ  é«˜ |
| | ã‚ªãƒ¼ã‚±ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¿ãƒ¼ | 2æ—¥ | ğŸŸ  é«˜ |
| | å®Ÿè£…ç›£æŸ»ã‚¨ãƒ³ã‚¸ãƒ³ | 2æ—¥ | ğŸŸ  é«˜ |
| **Phase 4** | æ¨™æº–ãƒ†ã‚¹ãƒˆæ‹¡å¼µ | 1æ—¥ | ğŸŸ¡ ä¸­ |
| | ãƒ“ã‚¸ãƒ¥ã‚¢ãƒ«ãƒ†ã‚¹ãƒˆ | 2æ—¥ | ğŸŸ¡ ä¸­ |
| | ãƒ†ã‚¹ãƒˆãƒ¬ãƒãƒ¼ã‚¿ãƒ¼ | 1æ—¥ | ğŸŸ¡ ä¸­ |
| **Phase 5** | PRè‡ªå‹•ä½œæˆ | 1æ—¥ | ğŸŸ¡ ä¸­ |
| | CIçµæœç›£è¦– | 1æ—¥ | ğŸŸ¡ ä¸­ |
| | è‡ªå‹•ãƒãƒ¼ã‚¸åˆ¤å®š | 1æ—¥ | ğŸŸ¡ ä¸­ |
| | Planeè‡ªå‹•æ›´æ–° | 0.5æ—¥ | ğŸŸ¡ ä¸­ |
| **åˆè¨ˆ** | | **28.5æ—¥** | |

---

### å„ªå…ˆé †ä½ãƒ­ãƒ¼ãƒ‰ãƒãƒƒãƒ—

```
Week 1-2: Phase 1ï¼ˆãƒ—ãƒ­ãƒ³ãƒ—ãƒˆç”Ÿæˆï¼‰
  â”œ SSOTè§£æã‚¨ãƒ³ã‚¸ãƒ³
  â”œ ã‚¿ã‚¹ã‚¯ç¨®åˆ¥åˆ¤å®š
  â”œ ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆè¨­è¨ˆ
  â”” ç”Ÿæˆã‚¹ã‚¯ãƒªãƒ—ãƒˆ

Week 3-4: Phase 2ï¼ˆãƒ—ãƒ­ãƒ³ãƒ—ãƒˆç›£æŸ»ï¼‰
  â”œ ç›£æŸ»ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ
  â”œ ãƒãƒ«ãƒLLMç›£æŸ»
  â”œ ã‚¹ã‚³ã‚¢è¨ˆç®—
  â”” ä¿®æ­£ãƒ«ãƒ¼ãƒ—

Week 5-6: Phase 3ï¼ˆå®Ÿè£…è‡ªå‹•åŒ–ï¼‰
  â”œ Claude Codeé€£æº
  â”œ Codexé€£æº
  â”œ ã‚ªãƒ¼ã‚±ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¿ãƒ¼
  â”” å®Ÿè£…ç›£æŸ»

Week 7-8: Phase 4-5ï¼ˆãƒ†ã‚¹ãƒˆãƒ»CI/CDï¼‰
  â”œ ãƒ†ã‚¹ãƒˆæ‹¡å¼µ
  â”œ ãƒ“ã‚¸ãƒ¥ã‚¢ãƒ«ãƒ†ã‚¹ãƒˆ
  â”œ PRè‡ªå‹•ä½œæˆ
  â”œ CIç›£è¦–
  â”” è‡ªå‹•ãƒãƒ¼ã‚¸
```

---

### ã‚¯ã‚¤ãƒƒã‚¯ã‚¹ã‚¿ãƒ¼ãƒˆï¼ˆæœ€å°æ§‹æˆï¼‰

**2é€±é–“ã§å‹•ãã‚‚ã®ã‚’ä½œã‚‹å ´åˆ**:

| æ—¥ | ã‚¿ã‚¹ã‚¯ | æˆæœç‰© |
|:---|:-------|:-------|
| 1-2 | SSOTè§£æã‚¨ãƒ³ã‚¸ãƒ³ | `parse-ssot.cjs` |
| 3 | ã‚¿ã‚¹ã‚¯ç¨®åˆ¥åˆ¤å®š | `classify-task.cjs` |
| 4-5 | ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆè¨­è¨ˆ | `templates/*.md` |
| 6-7 | ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆç”Ÿæˆ | `generate-prompt.cjs` |
| 8-9 | ç›£æŸ»ã‚¨ãƒ³ã‚¸ãƒ³ï¼ˆç°¡æ˜“ç‰ˆï¼‰ | `audit-prompt.cjs` |
| 10-11 | Claude Codeé€£æº | `run-claude-code.cjs` |
| 12-13 | çµ±åˆãƒ†ã‚¹ãƒˆ | å‹•ä½œç¢ºèª |
| 14 | ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆæ•´å‚™ | READMEæ›´æ–° |

---

## æ¬¡ã®ã‚¢ã‚¯ã‚·ãƒ§ãƒ³

1. **ä»Šã™ã**: Phase 1-Task 1-1ï¼ˆSSOTè§£æã‚¨ãƒ³ã‚¸ãƒ³ï¼‰ã‹ã‚‰é–‹å§‹
2. **1é€±é–“å¾Œ**: Phase 1å®Œäº†ã€å‹•ããƒ‡ãƒ¢
3. **2é€±é–“å¾Œ**: Phase 2å®Œäº†ã€ç›£æŸ»ãƒ«ãƒ¼ãƒ—å‹•ä½œ
4. **1ãƒ¶æœˆå¾Œ**: Phase 3å®Œäº†ã€å®Ÿè£…è‡ªå‹•åŒ–
5. **2ãƒ¶æœˆå¾Œ**: å…¨Phaseå®Œäº†ã€å®Œå…¨è‡ªå‹•åŒ–

---

## å¤‰æ›´å±¥æ­´

| æ—¥ä»˜ | ãƒãƒ¼ã‚¸ãƒ§ãƒ³ | å¤‰æ›´å†…å®¹ |
|:-----|:-----------|:---------|
| 2026-01-17 | 1.0.0 | åˆç‰ˆä½œæˆ |
