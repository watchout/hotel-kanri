# 開発ルールとドキュメント標準

## 概要

本ドキュメントでは、omotenasuai.comプロジェクト全体の開発ルールとドキュメント標準について定義します。これらのルールは、一貫性のある開発プロセスと高品質なドキュメント作成を促進するためのものです。

## 開発ルール

### コーディング規約

#### 全般

- インデント: スペース2文字
- 行末: LF（Unix形式）
- 文字コード: UTF-8
- 最大行長: 100文字
- 末尾空白: 削除する

#### JavaScript/TypeScript

- [Airbnb JavaScript Style Guide](https://github.com/airbnb/javascript)に準拠
- TypeScriptを優先使用
- ESLintとPrettierを使用して自動フォーマット
- 関数は原則としてアロー関数を使用
- 変数宣言は`const`を優先し、再代入が必要な場合のみ`let`を使用（`var`は使用禁止）
- 非同期処理は`async/await`を優先

#### Vue.js

- Vue 3 + Composition APIを使用
- 単一ファイルコンポーネント（SFC）形式
- コンポーネント名: PascalCase
- プロパティ名: camelCase
- イベント名: kebab-case
- スロット名: kebab-case

#### CSS/SCSS

- Tailwind CSSを優先使用
- カスタムCSSが必要な場合はSCSSを使用
- クラス名: kebab-case
- BEM命名規則を推奨

### ブランチ戦略

- メインブランチ: `main`
- 開発ブランチ: `develop`
- 機能ブランチ: `feature/機能名`
- バグ修正ブランチ: `bugfix/バグ内容`
- リリースブランチ: `release/バージョン`
- ホットフィックスブランチ: `hotfix/問題内容`

### コミットメッセージ

以下の形式に従う:

```
<type>(<scope>): <subject>

<body>

<footer>
```

- **type**: feat, fix, docs, style, refactor, test, chore のいずれか
- **scope**: 変更の範囲（オプション）
- **subject**: 変更内容の短い説明
- **body**: 詳細な説明（オプション）
- **footer**: 関連するIssueやPR（オプション）

例:
```
feat(auth): ユーザー認証機能の実装

- JWTを使用した認証システムを実装
- リフレッシュトークンの仕組みを追加
- ユーザーセッション管理を改善

Closes #123
```

### プルリクエスト

- タイトルは明確で具体的に
- 説明には変更内容、変更理由、テスト方法を記載
- レビュー前にセルフレビューを実施
- CI/CDパイプラインのチェックが通過していること
- 最低1名のレビュアーの承認が必要

### テスト

- ユニットテスト: Jest
- E2Eテスト: Cypress
- 新機能には必ずテストを追加
- カバレッジ目標: 80%以上

## ドキュメント標準

### ドキュメント形式

- マークダウン（.md）形式を基本とする
- 図表が必要な場合はPlantUMLまたはMermaidを使用
- APIドキュメントはOpenAPI（Swagger）形式

### ディレクトリ構造

```
docs/
├── architecture/          # アーキテクチャ設計
├── infrastructure/        # インフラ関連
│   ├── network/           # ネットワーク設定
│   ├── servers/           # サーバー設定
│   └── domains/           # ドメイン設定
├── development/           # 開発ルール
├── deployment/            # デプロイ手順
├── api/                   # API仕様
├── db/                    # データベース設計
├── features/              # 機能仕様
└── operations/            # 運用手順
```

### ドキュメントテンプレート

#### 機能仕様書

```markdown
# [機能名]

## 概要

[機能の簡潔な説明]

## 目的

[この機能が解決する問題や達成する目標]

## 要件

- [要件1]
- [要件2]
- [要件3]

## 仕様

### [サブ機能1]

[詳細説明]

### [サブ機能2]

[詳細説明]

## UI/UXデザイン

[画面モックアップやワイヤーフレームへの参照]

## 技術的実装

[実装方法、使用するライブラリやAPIなど]

## テスト計画

[テスト方法、テストケース]

## セキュリティ考慮事項

[セキュリティ上の考慮点]

## 将来の拡張性

[将来の拡張予定や考慮点]
```

#### 技術仕様書

```markdown
# [技術コンポーネント名]

## 概要

[コンポーネントの簡潔な説明]

## アーキテクチャ

[アーキテクチャ図やコンポーネント間の関係]

## 技術スタック

- [使用技術1]
- [使用技術2]
- [使用技術3]

## インターフェース

### 入力

[入力データ形式、APIエンドポイントなど]

### 出力

[出力データ形式、戻り値など]

## データフロー

[データの流れの説明]

## エラーハンドリング

[エラー処理方法、エラーコードなど]

## パフォーマンス考慮事項

[パフォーマンス最適化の方法]

## セキュリティ考慮事項

[セキュリティ上の考慮点]

## デプロイメント

[デプロイ方法、環境設定など]
```

### ドキュメント作成ガイドライン

1. **明確さ**: 簡潔で明確な言葉を使用する
2. **構造化**: 見出しと箇条書きを適切に使用する
3. **一貫性**: 用語や形式の一貫性を保つ
4. **更新**: 変更があった場合は速やかに更新する
5. **レビュー**: 公開前に他のチームメンバーによるレビューを受ける

### バージョン管理

- ドキュメントにはバージョン番号を付与
- 変更履歴を記録
- 最終更新日を明記

例:
```markdown
# ドキュメントタイトル

バージョン: 1.0.0
最終更新日: YYYY-MM-DD

## 変更履歴

| バージョン | 日付 | 変更者 | 変更内容 |
|------------|------|--------|----------|
| 1.0.0      | YYYY-MM-DD | 名前 | 初版作成 |
| 0.9.0      | YYYY-MM-DD | 名前 | ドラフト作成 |
```

## ドキュメント管理プロセス

### 作成フロー

1. ドキュメントの必要性の特定
2. 適切なテンプレートの選択
3. ドキュメントのドラフト作成
4. レビュー依頼
5. フィードバックの反映
6. 承認と公開

### レビュープロセス

1. 技術的正確性の確認
2. 一貫性と完全性の確認
3. 読みやすさと明確さの確認
4. フィードバックの提供
5. 修正の確認

### 更新プロセス

1. 定期的なレビュー（四半期ごと）
2. 変更が必要な箇所の特定
3. 更新の実施
4. 変更履歴の記録
5. 再レビューと承認

## 責任者

- **ドキュメント管理責任者**: [役職名]
- **レビュー担当**: [役職名]
- **承認者**: [役職名]

---

本ドキュメントは定期的にレビューし、必要に応じて更新してください。最終更新日: YYYY-MM-DD