{
  "name": "nuxt-app",
  "private": true,
  "type": "module",
  "scripts": {
    "build": "nuxt build",
    "verify:db": "bash scripts/verify-db-url.sh",
    "dev": "UNIFY_ENV=local pnpm run verify:db && ./scripts/dev-server.sh start",
    "openapi:gen": "openapi-typescript docs/api/openapi.yaml -o types/generated.d.ts",
    "openapi:gen:staff": "openapi-typescript docs/03_ssot/openapi/staff-management.yaml -o types/staff-api.d.ts",
    "check:ssot:coverage": "node scripts/check-requirement-coverage.js",
    "quality": "pnpm typecheck && pnpm lint && pnpm test && node scripts/guardrails/check-api-routes.mjs && node scripts/guardrails/check-openapi-consistency.mjs",
    "prepare": "husky install",
    "start": "UNIFY_ENV=dev pnpm run verify:db && nuxt dev --port 3100 --strictPort",
    "dev:stop": "./scripts/dev-server.sh stop",
    "dev:restart": "./scripts/dev-server.sh restart",
    "dev:status": "./scripts/dev-server.sh status",
    "dev:logs": "./scripts/dev-server.sh logs",
    "dev:clean": "./scripts/dev-server.sh clean",
    "dev:clean-restart": "./scripts/clean-restart.sh",
    "dev:silent": "./scripts/start-dev-silent.sh",
    "dev:foreground": "lsof -ti:3100 | xargs kill -9 2>/dev/null || true && nuxt dev --port 3100",
    "generate": "nuxt generate",
    "preview": "nuxt preview",
    "postinstall": "nuxt prepare",
    "db:seed": "node prisma/seed.mjs",
    "db:add-test-staff": "node scripts/add-test-staff.js",
    "db:check": "node scripts/db-safety-check.cjs",
    "db:safe-generate": "./scripts/prevent-duplicate-db.sh && ./scripts/db-safety-check.sh prisma generate && npx prisma generate && ./scripts/prevent-duplicate-db.sh",
    "db:safe-push": "./scripts/prevent-duplicate-db.sh && ./scripts/db-safety-check.sh prisma db push && npx prisma db push && ./scripts/prevent-duplicate-db.sh",
    "db:studio": "./scripts/prevent-duplicate-db.sh && ./scripts/db-safety-check.sh prisma studio && DATABASE_URL='file:./prisma/dev.db' npx prisma studio --port 5556",
    "db:backup": "cp ./prisma/dev.db ./prisma/dev.db.backup.$(date +%Y%m%d_%H%M%S) && echo 'バックアップ作成完了'",
    "db:restore": "echo '⚠️  データベース復元は手動で行ってください。利用可能なバックアップ:' && ls -la ./prisma/*.backup*",
    "db:status": "echo 'データベース状況:' && sqlite3 ./prisma/dev.db 'SELECT COUNT(*) as orders FROM \"Order\"; SELECT COUNT(*) as items FROM OrderItem; SELECT COUNT(*) as menus FROM MenuItem;'",
    "db:forbidden": "echo '🚨 このコマンドは禁止されています！ db:safe-* コマンドを使用してください'",
    "db:fix-duplicate": "./scripts/prevent-duplicate-db.sh",
    "background:init": "node scripts/background-agent-init.js",
    "background:status": "cat .cursor/background-status.json",
    "background:check": "node scripts/background-agent-init.js && echo '✅ Background Agent is ready'",
    "check:routing": "node scripts/check-routing-conflicts.cjs",
    "check:duplicates": "node scripts/check-component-duplicates.cjs",
    "check:ui-violations": "node scripts/check-ui-violations.cjs",
    "check:all": "npm run check:routing && npm run check:duplicates && npm run check:ui-violations",
    "fix:permissions": "chmod +x scripts/*.js scripts/*.sh",
    "ai-dev": "echo '🤖 実用的AI開発支援' && npm run check:all && npm run dev:status",
    "ai-dev:feature": "echo '✨ 新機能開発準備' && npm run db:backup && npm run check:all",
    "ai-dev:bug": "echo '🐛 バグ修正支援' && npm run db:status && npm run check:all",
    "ai-dev:optimize": "echo '⚡ 最適化実行' && npm run check:ui-violations && node scripts/auto-fix-ui-violations.js",
    "auto-fix-ui-violations": "node scripts/auto-fix-ui-violations.js",
    "auto-kotowari": "node scripts/auto-kotowari-sun.js",
    "sun-agent": "node scripts/auto-kotowari-sun.js",
    "verify:docs": "echo '📚 ドキュメント確認中...' && find . -name '*.md' | wc -l && echo '✅ ドキュメント数確認完了'",
    "verify:apis": "echo '🔍 API確認中...' && find server/api -name '*.ts' | head -5 && echo '✅ API構造確認完了'",
    "verify:types": "echo '🏷️ 型定義確認中...' && npm run type-check",
    "verify:all": "npm run verify:docs && npm run verify:apis && npm run verify:types",
    "prevent:hallucination": "echo '🚫 ハルシネーション防止チェック実行' && npm run check:all",
    "prevent:shortcuts": "echo '🛡️ 省力化防止チェック実行' && npm run db:status",
    "prevent:unauthorized": "echo '🔒 勝手実装防止チェック実行' && git status --porcelain | head -10",
    "prevent:all": "npm run prevent:hallucination && npm run prevent:shortcuts && npm run prevent:unauthorized",
    "safe-development": "echo '🚀 安全開発モード開始' && npm run verify:all && npm run prevent:all && echo '✅ 全検証完了 - 開発開始可能'",
    "validate:schema": "echo '🔍 スキーマ整合性チェック' && npx prisma validate",
    "validate:knowledge-base": "echo '📚 Knowledge Base構築確認' && find . -name 'schema.prisma' && find server/api -name '*.ts' | head -5",
    "validate:guardrails": "echo '🛡️ ガードレール動作確認' && npm run check:all",
    "rag:setup": "echo '🔍 RAG システム設定確認' && echo 'Azure Cognitive Search, Chroma, LangChain準拠'",
    "costar:validate": "echo '🎯 CO-STARフレームワーク確認' && echo 'Context, Objective, Style, Tone, Audience, Response'",
    "cursor:optimize": "node scripts/cursor-optimization-setup.cjs",
    "verify:cursor-optimization": "node scripts/verify-cursor-optimization.cjs",
    "token:optimize": "echo '📊 トークン最適化確認' && echo '英語思考30-40%削減、中国語50%削減'",
    "quality:enterprise": "npm run validate:schema && npm run validate:guardrails && echo '✅ エンタープライズ品質基準達成'",
    "verify:implementation": "node scripts/verify-implementation-claims.cjs",
    "fact-check": "echo '🔍 事実確認開始' && npm run verify:implementation",
    "anti-hallucination": "npm run fact-check && echo '⚠️ 実装報告前に必ず実行してください'",
    "ops:apply": "node ops/scripts/opsctl",
    "ops:lint": "node ops/scripts/validate-policy.js",
    "ops:export-progress": "node ops/scripts/export-progress.js",
    "test": "echo '🧪 テスト実行開始' && npm run test:all",
    "test:all": "npm run test:saas && npm run test:common",
    "test:saas": "cd /Users/kaneko/hotel-saas && npm test",
    "test:common": "cd /Users/kaneko/hotel-common && npm test",
    "test:unit": "npm run test:all",
    "test:coverage": "npm run test:saas:coverage && npm run test:common:coverage",
    "test:saas:coverage": "cd /Users/kaneko/hotel-saas && npm run test:coverage",
    "test:common:coverage": "cd /Users/kaneko/hotel-common && npm run test:coverage",
    "lint": "npm run lint:saas && npm run lint:common",
    "lint:saas": "cd /Users/kaneko/hotel-saas && npm run lint || echo '⚠️ hotel-saas lint未設定'",
    "lint:common": "cd /Users/kaneko/hotel-common && npm run lint",
    "lint:fix": "npm run lint:fix:saas && npm run lint:fix:common",
    "lint:fix:saas": "cd /Users/kaneko/hotel-saas && npm run lint:fix || echo '⚠️ hotel-saas lint:fix未設定'",
    "lint:fix:common": "cd /Users/kaneko/hotel-common && npm run lint:fix",
    "typecheck": "echo '⚠️ hotel-kanriは管理リポジトリのため型チェック不要' && exit 0"
  },
  "dependencies": {
    "@blocknote/core": "^0.12.1",
    "@blocknote/react": "^0.12.1",
    "@element-plus/icons-vue": "^2.3.1",
    "@hotel-common/unified-client": "file:../hotel-common",
    "@nuxt/icon": "^1.6.1",
    "@nuxtjs/auth-next": "5.0.0-1667386184.dfbbb54",
    "@nuxtjs/axios": "5.13.6",
    "@nuxtjs/cloudinary": "^4.0.0",
    "@pinia/nuxt": "^0.6.1",
    "@sidebase/nuxt-auth": "1.0.0",
    "@types/bcryptjs": "^2.4.6",
    "@types/jsonwebtoken": "9.0.9",
    "@types/qrcode": "^1.5.5",
    "@vue/compiler-core": "^3.5.17",
    "@vueuse/core": "^13.2.0",
    "@vueuse/integrations": "^13.3.0",
    "@vueuse/nuxt": "^12.6.0",
    "axios": "^1.11.0",
    "bcryptjs": "^3.0.2",
    "chart.js": "^4.4.9",
    "cloudinary": "^2.6.1",
    "fast-csv": "^5.0.2",
    "formidable": "^3.5.4",
    "grapesjs": "^0.22.12",
    "grapesjs-blocks-basic": "^1.0.2",
    "grapesjs-preset-webpage": "^1.0.3",
    "h3-formidable": "^1.0.0",
    "hotel-common": "file:../hotel-common",
    "html2pdf.js": "^0.10.3",
    "jsonwebtoken": "9.0.2",
    "next-auth": "4.21.1",
    "openai": "^5.10.1",
    "pg": "^8.16.3",
    "pinia": "3.0.2",
    "qrcode": "^1.5.4",
    "react": "^18.2.0",
    "react-dom": "^18.2.0",
    "sharp": "^0.34.1",
    "sortablejs": "^1.15.6",
    "sqlite": "^5.1.1",
    "sqlite3": "^5.1.7",
    "vue": "3.5.13",
    "vue-i18n": "^9.10.2",
    "vue-react-wrapper": "^0.3.1",
    "vue-router": "4.5.1",
    "vue-sonner": "^1.2.1",
    "vuedraggable": "^4.1.0",
    "ws": "^8.18.2"
  },
  "packageManager": "pnpm@10.9.0+sha512.0486e394640d3c1fb3c9d43d49cf92879ff74f8516959c235308f5a8f62e2e19528a65cdc2a3058f587cde71eba3d5b56327c8c33a97e4c4051ca48a10ca2d5f",
  "devDependencies": {
    "@faker-js/faker": "^9.7.0",
    "globby": "^14.0.0",
    "husky": "^9.0.0",
    "openapi-typescript": "^7.0.0",
    "@nuxtjs/tailwindcss": "^6.14.0",
    "@playwright/test": "^1.52.0",
    "@prisma/client": "^6.7.0",
    "@types/formidable": "^3.4.5",
    "@types/node": "22.15.14",
    "@types/uuid": "^10.0.0",
    "@types/ws": "^8.18.1",
    "@vitest/coverage-v8": "^3.1.3",
    "@vitest/ui": "^3.1.3",
    "autoprefixer": "10.4.14",
    "date-fns": "^4.1.0",
    "glob": "^11.0.0",
    "hotel-common": "file:../hotel-common",
    "lru-cache": "^10.2.0",
    "nuxt": "3.16.2",
    "playwright": "^1.52.0",
    "postcss": "8.4.31",
    "postcss-nesting": "13.0.1",
    "prisma": "^6.7.0",
    "redis": "^5.6.0",
    "socket.io-client": "^4.8.1",
    "supertest": "^7.1.0",
    "tailwindcss": "3.3.0",
    "ts-node": "^10.9.2",
    "vitest": "^3.1.3",
    "zod": "^3.24.4"
  }
}
